<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>IIS Handbook and Operations Manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="book">
<div id="header">
<h1>IIS Handbook and Operations Manual</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_iis_handbook_and_operations_manual">IIS Handbook and Operations Manual</a>
<ul class="sectlevel1">
<li><a href="#_preface_by_andrew_olney">Preface by Andrew Olney</a></li>
<li><a href="#_getting_started">Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_about_the_iis">About the IIS</a></li>
<li><a href="#_a_short_history_of_the_iis">A Short History of the IIS</a></li>
<li><a href="#_iis_membership">IIS Membership</a></li>
<li><a href="#_iis_student_organization_iisso">IIS Student Organization (IISSO)</a></li>
<li><a href="#_events">Events</a></li>
<li><a href="#_communications">Communications</a></li>
<li><a href="#_outreach">Outreach</a></li>
<li><a href="#_resources">Resources</a></li>
<li><a href="#_degree_programs">Degree programs</a></li>
<li><a href="#_staff">Staff</a></li>
<li><a href="#_summary">Summary</a></li>
</ul>
</li>
<li><a href="#_git_basics_chapter">Git Basics</a>
<ul class="sectlevel2">
<li><a href="#_getting_a_repo">Getting a Git Repository</a></li>
<li><a href="#_recording_changes_to_the_repository">Recording Changes to the Repository</a></li>
<li><a href="#_viewing_history">Viewing the Commit History</a></li>
<li><a href="#_undoing">Undoing Things</a></li>
<li><a href="#_remote_repos">Working with Remotes</a></li>
<li><a href="#_git_tagging">Tagging</a></li>
<li><a href="#_summary_2">Summary</a></li>
</ul>
</li>
<li><a href="#_git_branching">Git Branching</a>
<ul class="sectlevel2">
<li><a href="#_git_branches_overview">Branches in a Nutshell</a></li>
<li><a href="#_basic_branching_and_merging">Basic Branching and Merging</a></li>
<li><a href="#_branch_management">Branch Management</a></li>
<li><a href="#_branching_workflows">Branching Workflows</a></li>
<li><a href="#_remote_branches">Remote Branches</a></li>
<li><a href="#_rebasing">Rebasing</a></li>
<li><a href="#_summary_3">Summary</a></li>
</ul>
</li>
<li><a href="#_git_on_the_server">Git on the Server</a>
<ul class="sectlevel2">
<li><a href="#_the_protocols">The Protocols</a></li>
<li><a href="#_git_on_the_server">Getting Git on a Server</a></li>
<li><a href="#_generate_ssh_key">Generating Your SSH Public Key</a></li>
<li><a href="#_setting_up_server">Setting Up the Server</a></li>
<li><a href="#_git_daemon">Git Daemon</a></li>
<li><a href="#_smart_http_2">Smart HTTP</a></li>
<li><a href="#_gitweb">GitWeb</a></li>
<li><a href="#_gitlab">GitLab</a></li>
<li><a href="#_third_party_hosted_options">Third Party Hosted Options</a></li>
<li><a href="#_summary_4">Summary</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="_iis_handbook_and_operations_manual" class="sect0">IIS Handbook and Operations Manual</h1>
<div class="sect1">
<h2 id="_preface_by_andrew_olney">Preface by Andrew Olney</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the first version of the IIS Handbook and Operations Manual.
The IIS has never had a book like this before, but as the IIS has grown in scope and complexity,
so has the need for a handbook that documents our programs and procedures.</p>
</div>
<div class="paragraph">
<p>This first version (17.05 in year/month notation) reflects my personal views that
have developed over the last 10 years as I&#8217;ve served as Associate Director and
eventually Director of the IIS.
Accordingly, the priorities and biases are mine and have not been endorsed by
the IIS community.</p>
</div>
<div class="paragraph">
<p>My hope is that future versions will be voted into adoption or follow some
similar consensus-building process.
By hosting this handbook on GitHub and using AsciiDoc, I&#8217;ve made it as easy as
I know how for this book to be improved by a distributed group of people,
potentially across many years, such that all revisions are well documented.
This approach is well-traveled by other open source books,
and I&#8217;ve leaned heavily on the model provided by <strong>Pro Git</strong> (2nd edition).
To make changes, please refer to the procedures in the README file in the root
of this repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides a common ground for everyone that is assumed for the following chapters.
It gives a high-level view of what the IIS is, what it does, and how it works.
Some of these topics are further developed for student and faculty concerns in later chapters.</p>
</div>
<div class="sect2">
<h3 id="_about_the_iis">About the IIS</h3>
<div class="paragraph">
<p>What is the The Institute for Intelligent Systems?</p>
</div>
<div class="paragraph">
<p>The Institute for Intelligent Systems (IIS) is an interdisciplinary research center at the University of Memphis.
Unlike many research centers, the IIS has historically pursued a research agenda
set by participating researchers who <strong>self-organize around research problems</strong>,
rather than a highly focused formal agenda.
The breadth and flexibility of the IIS is reflected in our current mission statement:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The Institute for Intelligent Systems is dedicated to advancing the state of knowledge and capabilities of intelligent systems, including psychological, biological, and artificial systems.</p>
</div>
<div class="paragraph">
<p>By conducting cutting-edge research and publishing our findings in peer-reviewed venues, we contribute to the discipline and, ultimately, to the public. In doing so, we are also training the next generation of scientists.</p>
</div>
<div class="paragraph">
<p>Our mission depends on an interdisciplinary approach that brings together researchers from many different backgrounds, including computer science, cognitive psychology, education, philosophy, linguistics, engineering, English, and biology.</p>
</div>
</blockquote>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Our "bottom-up" approach to forming research groups makes the IIS very accessible: if
you can find some like-minded people interested in your project, you can form a group.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Although the IIS maintains a strong tradition of bottom-up research, our recent
strategic plan adopted three focus areas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Language &amp; Discourse</p>
</li>
<li>
<p>Learning</p>
</li>
<li>
<p>Artificial Intelligence</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These focus areas represent the deepest areas of <em>current</em> expertise at the IIS,
but they should not be regarded as an intention to exclude other areas of research or
limit what the IIS can become in the future.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_short_history_of_the_iis">A Short History of the IIS</h3>
<div class="paragraph">
<p>The IIS was formed in 1985 as a result of informal meetings between
Dr. Stan Franklin (Computer Science), Dr. Art Graesser (Psychology),
and Dr. Terry Horgan (Philosophy), with Graesser and Franklin initially serving
as Co-Directors.
Dr. Don Franceschetti (Physics) developed a five-year plan
for the IIS which led to the recognition by the State of Tennessee of the IIS
as an Institute.
The Cognitive Science Seminar began in 1985 and continues to this day.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Cognitive Science Seminar has been in continuous operation since 1985.
It is now a cross-listed course with Psychology, Philosophy, and Computer Science.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In 1998, as a result of multiple major grants to faculty participating in the IIS,
the IIS received an operating budget of $25,000, 5% indirect cost recovery from grants,
and two staff positions that were both filled by 2000.</p>
</div>
<div class="paragraph">
<p>In 2003, the IIS moved to the FedEx Institute of Technology (FIT) and began hiring two
faculty with split appointments between the IIS and other departments.</p>
</div>
<div class="paragraph">
<p>Beginning in 2007, the IIS began hiring 100% faculty lines.
These lines are fully within the IIS but have tenure housed in other departments.
This development marked a number of administrative changes in the IIS as it
continued to grow into a mini-department.
An additional staff person was added to support grant submissions (i.e. pre-award support)
in recognition of the importance of grant funding to the IIS mission.</p>
</div>
<div class="paragraph">
<p>In 2010, the IIS was allocated 10 graduate assistantships, additional faculty lines,
additional staff, 20% indirect cost recovery, and the 4th floor of the FIT.
The IIS Student Organization (IISSO) was formed and tasked with managing student
travel awards.
The IIS added its first degree program, the Cognitive Science Graduate Certificate.</p>
</div>
<div class="paragraph">
<p>In 2014, the IIS launched a multi-year strategic planning process.
Many of the recommendations of the strategic planning process have already been
implemented, including a new undergraduate Minor in Cognitive Science.
However parts of the strategic plan will take years to unfold.</p>
</div>
<div class="paragraph">
<p>For more detailed history of the IIS, up to 2015, please refer to the IIS Strategic Plan Self-Study.</p>
</div>
</div>
<div class="sect2">
<h3 id="_iis_membership">IIS Membership</h3>
<div class="paragraph">
<p>For many years the IIS did not have a formal membership definition.<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="paragraph">
<p>Since 2008, the IIS has had a membership letter mechanism: faculty can join the
IIS as "IIS Affiliates" by signing the letter and returning it to the IIS Director.
The letter states what the Affiliate can expect from the IIS and vice versa.
In a nutshell, the IIS expects participation and, ultimately, grant activity that
funds IIS services.
In return the Affiliate has access to the various resources the IIS provides.</p>
</div>
<div class="paragraph">
<p>There is not a similar membership letter for students.
Students may join the IIS Student Organization (IISSO) according to the current policies and procedures of
that organization.
However, being a member of the IISSO does not automatically grant access to IIS
resources.
To access IIS resources, students must be "claimed" by an IIS Affiliate faculty
member as described later in this handbook.</p>
</div>
</div>
<div class="sect2">
<h3 id="_iis_student_organization_iisso">IIS Student Organization (IISSO)</h3>
<div class="paragraph">
<p>The IIS Student Organization (IISSO) is a self-organized group of students, most of whom work with IIS Affiliates.
In addition to providing a community for students, the IISSO makes recommendations to the IIS regarding the allocation of various resources to students, including student travel awards and thesis/dissertation awards.
The IISSO also organizes the poster session at the Speed Date, guest speaker lunches, and other social events.</p>
</div>
<div class="paragraph">
<p>Current information about the IISSO can be found at <a href="https://sites.google.com/site/iissomemphis2/" class="bare">https://sites.google.com/site/iissomemphis2/</a></p>
</div>
<div class="paragraph">
<p>Students and faculty should refer to current information on the website.</p>
</div>
<div class="paragraph">
<p>A copy of the IISSO charter, <strong>which may not be current</strong>, follows.</p>
</div>
<div class="sect3">
<h4 id="_charter">Charter</h4>
<div class="sect4">
<h5 id="_mission_statement">Mission Statement</h5>
<div class="paragraph">
<p>The IISSO is a student-led advocacy and coordinating group at the Institute for Intelligent Systems (IIS). The IISSO represents the interests of undergraduate and graduate students that are affiliated with the IIS. The IISSO actively pursues opportunities to improve student welfare through academic and social projects, and also strives to advance student research by providing opportunities for funding, networking, and promotion of research. IISSO meetings are scheduled once or twice a semester and all IIS-affiliated students are welcome to attend. The meeting minutes will be distributed through the IISSO email list within one week of the meeting. Student elections for the IISSO officers are held annually in May.</p>
</div>
<div class="paragraph">
<p>Its major responsibilities include a) distributing travel funds to students that attend academic conferences and workshops*, b) organizing student lunches with visiting speakers, c) providing opportunities for students to present their research and/or lead workshops/seminars, d) providing opportunities to interact with professors interviewing for IIS-faculty positions, e) keeping students informed of IISSO and IIS activities, f) training the new IISSO officers-elect, and currently on pilot basis, g) distributing thesis and dissertation funds to students toward the completion of their degrees*.</p>
</div>
<div class="paragraph">
<p>*See eligibility requirements and submission guidelines on the Funding page.</p>
</div>
</div>
<div class="sect4">
<h5 id="_qualification_for_membership">Qualification for Membership</h5>
<div class="paragraph">
<p>Any undergraduate or graduate student affiliated with the IIS or with a strong interest in cognitive science interdisciplinary research is able to join and participate in IISSO events.</p>
</div>
<div class="paragraph">
<p>Membership does not have any strict requirements. To join, simply email the President to have your name added to the mailing list (MUST be your U of M email). The IISSO strives to advance student research by providing opportunities for funding, networking, and promotion of research. As such, members have access to the following benefits: participation in the IISSO research fair (usually toward the end of the Fall and Spring semesters), the opportunity to collaborate with researchers in different fields, as well as the chance to meet and network with experts from outside of the U of M in a variety of cognitive science fields (through the Cognitive Science Seminar lunches), attend and/or present workshops to further your academic career/CV.</p>
</div>
<div class="paragraph">
<p>While anyone is welcome to join and may benefit from any or all of the abovementioned benefits of membership, limited travel funding (and thesis/dissertation funding) can be awarded to members who meet certain criteria. Specifically, one must be an IISSO member collaborating on a project with an IIS-approved faculty member. Upon joining the IISSO, if you are interested in possibly applying for travel funding in the future, you should check with your advisor or any professor you are collaborating with to see if they are IIS-affiliated and if they have added their students to the list of IISSO-travel-funding-approved students. Even if you meet this requirement (and others detailed on the travel funding page), no one is guaranteed funding. For more information on travel funding, please see the IISSO Funding Page. There is also preliminary information on the Thesis/Dissertation funding on the Funding page. You may also contact any of the current officers with questions or concerns about membership and eligibility.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_events">Events</h3>
<div class="sect3">
<h4 id="_research_meetings">Research Meetings</h4>
<div class="paragraph">
<p>Individual projects and labs schedule weekly meetings in 405 and 407 FIT,
 the IIS main meeting rooms.
Affiliates can book rooms with Renee Cogar.
 These meetings and descriptions are publicly posted to our website,
 and all IIS Affiliates and students are encouraged to drop in or participate
  in ongoing research meetings.
There are approximately 25 regularly scheduled research meetings per week for
externally funded projects.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cognitive_science_seminar">Cognitive Science Seminar</h4>
<div class="paragraph">
<p>The Cognitive Science Seminar is a hybrid course/public lecture.
Students who register for the course (COMP/PHIL/PSYC 7514/8514) attend a course-only
portion from 2:20pm to 4pm as well as a guest lecture portion, which is also
open to the public, from 4pm to 5:20pm.</p>
</div>
<div class="paragraph">
<p>The topic of the seminar varies semester by semester, as do the faculty leading it.
It is common for students to have lunch with guest speakers and for faculty to take them to dinner.
More information about the seminar can be found in the faculty and student chapters.</p>
</div>
</div>
<div class="sect3">
<h4 id="_guest_speakers">Guest Speakers</h4>
<div class="paragraph">
<p>IIS Affiliates will often bhost visitors who are willing to give a talk to the
wider IIS community.
Although the IIS does not provide material support for such ad-hoc speakers, we
encourage Affiliates to make use of our meeting rooms and work with IIS staff to
promote the talk.</p>
</div>
</div>
<div class="sect3">
<h4 id="_speed_date">Speed Date</h4>
<div class="paragraph">
<p>At the end of each semester (typically 4pm to 7pm the Friday before Study Day),
the IIS holds a Speed Date event in which 8-10 Affiliates give 5 minute
presentations of their current research interests.
The presentation portion is followed by a wine and cheese poster session,
organized by the IISSO, where students present their latest research.
Affiliates who wish to volunteer to speak at the Speed Date are always welcome to do so,
otherwise Affiliates are invited based on how much time has passed since their
last presentation, with priority given to Affiliates who recently joined.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_communications">Communications</h3>
<div class="sect3">
<h4 id="_email">Email</h4>
<div class="paragraph">
<p>The IIS maintains multiple mailing lists:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IIS-Faculty: faculty affiliates.</p>
</li>
<li>
<p>IIS-Students: <strong>interested</strong> students, some of which might not be working with IIS affiliates.</p>
</li>
<li>
<p>IIS-Pro: grant-supported staff and postdocs</p>
</li>
<li>
<p>IIS-Admin: president, provost, vice president of research, FIT administration, deans and chairs of all faculty affiliates, staff in communications</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_web">Web</h4>
<div class="paragraph">
<p>The IIS website has the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List of affiliates and staff</p>
</li>
<li>
<p>Degree programs</p>
</li>
<li>
<p>Calendar of research meetings</p>
</li>
<li>
<p>Links to resources</p>
</li>
<li>
<p>List of affiliate projects</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The IIS Student Organization (IISSO) has their own website with specific information for students.</p>
</div>
</div>
<div class="sect3">
<h4 id="_social_media">Social Media</h4>
<div class="paragraph">
<p>Currently the IIS participates in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>LinkedIn : there is a LinkedIn group for current and former students, staff, and faculty.</p>
</li>
<li>
<p>Facebook</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>IIS social media accounts are managed by  Leah Windsor.</p>
</div>
</div>
<div class="sect3">
<h4 id="_press_releases">Press Releases</h4>
<div class="paragraph">
<p>In the past, faculty and students were largely on their own with respect to press releases, meaning that they had to write them, submit them to communications, and then wait and see if anything came of it.</p>
</div>
<div class="paragraph">
<p>The current process is that Mary Ann Dawson is on the IIS-Admin list and will proactively create press releases. If faculty or students have a particular story they think is worthy of a press release, they are encouraged to contact Mary Ann Dawson directly.</p>
</div>
</div>
<div class="sect3">
<h4 id="_branding">Branding</h4>
<div class="paragraph">
<p>Use of IIS logo and branding is encouraged on presentation slides and conference posters. Discretion and care should be taken to avoid using the IIS brand in such a way that it endorses an activity besides an individual&#8217;s research. Sponsorships and similar promotion/endorsements must be approved by the IIS Director.</p>
</div>
<div class="paragraph">
<p>Logo art is available on the IIS website under Resources.</p>
</div>
</div>
<div class="sect3">
<h4 id="_signage">Signage</h4>
<div class="paragraph">
<p>The IIS has several signs used primarily for IIS events like the Speed Date. These signs can be used for other purposes but need approval (like branding) and can be checked out from Renee Cogar.</p>
</div>
</div>
<div class="sect3">
<h4 id="_brochures">Brochures</h4>
<div class="paragraph">
<p>General brochures about the IIS are available. While the IIS can provide these in limited quantities (e.g. 100), it should be recognized that these are produced at cost and should be used strategically (e.g. to attract students). General brochures can be obtained from Renee Cogar.</p>
</div>
<div class="paragraph">
<p>IIS can also assist faculty affiliates with the creation of brochures specific to their lab or grant project. Faculty wishing to create custom brochures should contact Adam Remsen.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_outreach">Outreach</h3>
<div class="paragraph">
<p>The IIS engages in outreach and encourages students and faculty to participate.
These activities help promote the IIS brand, attract future students, and help us connect with new collaborators.
Outreach activities can take place on-campus or off-campus.</p>
</div>
<div class="paragraph">
<p>On-campus, IIS faculty and students are frequently asked to participate in lab tours and
associated demonstrations. Often touring groups are middle or high school students, so
the tours/demonstrations need to be tailored to a general audience.
These are excellent opportunities for graduate students to practice their presentation skills.</p>
</div>
<div class="paragraph">
<p>Off-campus events include demonstrations at schools or community events, speaking engagements,
competition judging, and similar activities. Often times off-campus outreach is spearheaded by a
particular faculty member, but to the extent possible, the IIS can support these activities by
providing signs or similar materials.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resources">Resources</h3>
<div class="paragraph">
<p>Resources specific to students and faculty are addressed in their respective chapters. The resources that follow are available to everyone.
Additional resources, such as links to information or university resources, are listed on the <a href="http://www.memphis.edu/iis/resources/index.php">IIS website Resource page</a>.</p>
</div>
<div class="sect3">
<h4 id="_meeting_space">Meeting space</h4>
<div class="paragraph">
<p>Faculty and students can book meeting rooms with Renee Cogar. In general, booking is on a first-come, first-served basis.</p>
</div>
<div class="sect4">
<h5 id="_teleconference_system">Teleconference system</h5>
<div class="paragraph">
<p>Faculty and students can also book the IIS teleconference system with Renee Cogar.
The system is located in 407 FIT.</p>
</div>
<div class="paragraph">
<p>The system is an <a href="https://enterprise.google.com/chrome/video-conferencing/">enterprise version of Google Hangouts</a> with the following features</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Accomodates a large group with one screen, camera, and microphone</p>
</li>
<li>
<p>Allows a large group of attendees (~20)</p>
</li>
<li>
<p>Can connect participants via telephone in addition to Google Hangouts</p>
</li>
<li>
<p>For recurring meetings with fixed participants, can automatically start meetings and invite participants based on a calendar event (managed by Renee Cogar).</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_library">Library</h5>
<div class="paragraph">
<p>The IIS Library is open to faculty and students at any time.
The library holds a large collection of books donated by faculty (approximately 2,000).</p>
</div>
<div class="paragraph">
<p>Each book is indexed and cataloged, and may be searched in two ways
- <a href="http://www.memphis.edu/iis/resources/index.php">Book metadata such as author and title</a>
- <a href="http://books.google.com/books?uid=113888436009049736112&amp;as_coll=1001&amp;source=gbs_lp_bookshelf_list&amp;hl=en">Full text search using Google Books search restricted to our library</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_linguistic_data_consortium_subscription_ldc">Linguistic Data Consortium subscription (LDC)</h5>
<div class="paragraph">
<p>The <a href="https://www.ldc.upenn.edu/">Linguistic Data Consortium (LDC)</a> is perhaps the world&#8217;s leading repository of linguistic data.
LDC datasets are commonly used in shared tasks and to benchmark algorithms.
They can cost thousands of dollars each.</p>
</div>
<div class="paragraph">
<p>The IIS has an institutional subscription, which gives us total access to each dataset released in a subscription year as well as a reduced price on non-covered datasets.
Datasets in our subscription years are available on campus at <a href="http://psychiisnas.memphis.edu/LDC/start.html" class="bare">http://psychiisnas.memphis.edu/LDC/start.html</a></p>
</div>
<div class="paragraph">
<p>Certain datasets require special license agreements. If a dataset appears to be missing, it may require a signature release.
Contact Renee Cogar for such requests.</p>
</div>
</div>
<div class="sect4">
<h5 id="_dreamspark_imagine_subscription">Dreamspark/Imagine Subscription</h5>
<div class="paragraph">
<p>The IIS has a DreamSpark subscription. IIS Students, faculty, and staff may download Microsoft titles <a href="https://e5.onthehub.com/WebStore/Welcome.aspx?ws=49735311-1b59-e211-b607-f04da23e67f6&amp;vsro=8">from our webstore</a>.</p>
</div>
<div class="paragraph">
<p>The primary types of software offered are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Windows operating systems</p>
</li>
<li>
<p>SQL server and similar server titles</p>
</li>
<li>
<p>Visual studio and similar development tools</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Faculty and students can obtain Microsoft Office products directly from the University at <a href="http://www.memphis.edu/getoffice" class="bare">http://www.memphis.edu/getoffice</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_eyetracker">Eyetracker</h5>
<div class="paragraph">
<p>The IIS has a "single instrument" experiment room, which currently contains a Tobii T60 Eyetracker.</p>
</div>
<div class="paragraph">
<p>This room may be booked for single instrument experiments through Renee Cogar.</p>
</div>
</div>
<div class="sect4">
<h5 id="_equipment_check_out">Equipment check out</h5>
<div class="paragraph">
<p>Various equipment is available for checkout, including</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Projectors</p>
</li>
<li>
<p>Google glass</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Equipment may be checked out through Renee Cogar.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_degree_programs">Degree programs</h3>
<div class="paragraph">
<p>This IIS hosts two degree programs, the Cognitive Science graduate certificate (a graduate program) and the Cognitive Science Minor (an undergraduate program).
Currently both programs consist of courses hosted in other departments, but often taught by IIS Affiliates.
Information about both programs is available at <a href="http://www.memphis.edu/cognitive-science/" class="bare">http://www.memphis.edu/cognitive-science/</a></p>
</div>
<div class="paragraph">
<p>Importantly,  <a href="http://www.memphis.edu/cognitive-science/">that link</a> lists the specific courses offered in the current/upcoming semester that apply to the certificate and minor,
which should help students when registering for classes.</p>
</div>
<div class="sect3">
<h4 id="_cognitive_science_graduate_certificate">Cognitive Science Graduate Certificate</h4>
<div class="paragraph">
<p>The certificate is available to all enrolled graduate students from any department.
Additionally, students can be on the certificate as <strong>non-degree seeking</strong> and by doing so be eligible for GA positions.
Similarly, non-degree seeking students on the certificate are eligible for financial aid.
So a student between UG and a graduate program may find taking the certificate to be an effective use of their time while they are waiting to be admitted to a graduate program.</p>
</div>
<div class="paragraph">
<p>Ideally students interested in the certificate will apply for admission right away, but it is also possible to enter the certificate right before graduating and have previous classes retroactively count toward the certificate (as long as no more than 6 hours are "double counted" towards the certificate and another degree).</p>
</div>
<div class="paragraph">
<p>Students already enrolled in a graduate program (or who have previously been degree seeking) can apply to enter the certificate by filling out a change of status form:</p>
</div>
<div class="paragraph">
<p><a href="http://www.memphis.edu/gradschool/pdfs/forms/changeofstatus.pdf" class="bare">http://www.memphis.edu/gradschool/pdfs/forms/changeofstatus.pdf</a></p>
</div>
<div class="paragraph">
<p>with degree program as "Graduate Certificate", Major: Cognitive Science.</p>
</div>
<div class="paragraph">
<p>and then filling out the form, printing/signing, and mailing to the Graduate School or walking over to the Graduate School.</p>
</div>
<div class="paragraph">
<p>If the student is currently enrolled as non-degree and has never been degree seeking he or she must complete an online readmit application.</p>
</div>
<div class="paragraph">
<p>For non-degree students, the IIS graduate coordinator, Andrew Olney, is the advisor of record and must clear classes each semester.
For degree-seeking students the regular advisor remains the advisor of record; however feel free to contact me for advice on course selection.</p>
</div>
<div class="paragraph">
<p>In addition to the listed courses that can count towards the certificate, the graduate coordinator may approve course substitutions.
Faculty are encouraged to contact the graduate coordinator if they are teaching a "one off" seminar course that is aligned with the certificate or a new course that is similarly aligned.
Students are encouraged to contact the graduate coordinator for advice regarding courses, particularly courses outside their area.</p>
</div>
<div class="paragraph">
<p><strong>In the semester of graduation, students on the certificate must fill out the following forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Apply to graduate</p>
</li>
<li>
<p>Graduate certificate candidacy form</p>
</li>
<li>
<p>Course substitution forms (as needed)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Forms are available at <a href="http://www.memphis.edu/gradschool/resources/forms_index.php" class="bare">http://www.memphis.edu/gradschool/resources/forms_index.php</a></p>
</div>
<div class="paragraph">
<p>Andrew Olney will sign off on the forms and route them for further approval.</p>
</div>
<div class="paragraph">
<p>The deadlines are listed here:</p>
</div>
<div class="paragraph">
<p><a href="http://www.memphis.edu/gradschool/current_students/graduation_information/graduation_deadlines.php" class="bare">http://www.memphis.edu/gradschool/current_students/graduation_information/graduation_deadlines.php</a></p>
</div>
<div class="paragraph">
<p><strong>Note that deadlines for graduation paperwork are early in the semester</strong></p>
</div>
<div class="paragraph">
<p>Please contact Andrew Olney if you have any questions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cognitive_science_minor">Cognitive Science Minor</h4>
<div class="paragraph">
<p>The minor is available to all undergraduate students <strong>except</strong> Psychology majors.
Psychology majors should instead take the Cognitive Science concentration within the Psychology major.</p>
</div>
<div class="paragraph">
<p>Unlike the graduate certificate, the minor is largely administered by the College of Arts and Sciences (CAS).
Students wishing to declare the minor should follow the CAS procedure at <a href="http://www.memphis.edu/cas/advising/declare_major.php" class="bare">http://www.memphis.edu/cas/advising/declare_major.php</a></p>
</div>
<div class="paragraph">
<p>A student wishing a course substitution or exception should contact the IIS undergraduate coordinator, {iis-undergraduate-coordinator}, who will contact graduation analysts in CAS to make the change.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_staff">Staff</h3>
<div class="paragraph">
<p>Most staff are available during academic hours and on an as-needed basis. The major exceptions are
grant preparation and software development.</p>
</div>
<div class="paragraph">
<p>Grant preparation support is negotiated in advance and
coordinated according to other grant submissions that are due at approximately the same time. This
coordination encourages faculty to notify of intent to submit and work with our grant preparation staff
well in advance of the submission deadline.</p>
</div>
<div class="paragraph">
<p>Software development likewise is time-intensive for any given project. Currently software development
support is allocated using an RFP system. Faculty write a 1-2 page narrative describing how their project
would benefit from software development support. Support is allocated in 2 month blocks per project
on a 6 month cycle. During any 2 month block, our software development staff member is 100%
committed to the assigned project.</p>
</div>
<div class="sect3">
<h4 id="_senior_administrative_secretary_renee_cogar">Senior Administrative Secretary (Renee Cogar)</h4>
<div class="ulist">
<ul>
<li>
<p>Manage all meeting space (405/407)</p>
</li>
<li>
<p>Manage all IIS email lists</p>
</li>
<li>
<p>Manage library; order books and journals</p>
</li>
<li>
<p>Handles travel bookings as requested</p>
</li>
<li>
<p>Book events like the Speed Date</p>
</li>
<li>
<p>Handles mail, faxing, and phone communications</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_financial_services_associate_vickie_middleton">Financial Services Associate (Vickie Middleton)</h4>
<div class="ulist">
<ul>
<li>
<p>Manage IIS Operating and IDCR accounts</p>
</li>
<li>
<p>Purchasing</p>
</li>
<li>
<p>GA contracts</p>
</li>
<li>
<p>Reimbursement</p>
</li>
<li>
<p>Travel authorization</p>
</li>
<li>
<p>Inventory</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_pre_award_coordinator_adam_remsen">Pre-Award Coordinator (Adam Remsen)</h4>
<div class="ulist">
<ul>
<li>
<p>Track and route funding opportunities to faculty</p>
</li>
<li>
<p>Grant proposal preparation</p>
</li>
<li>
<p>Budget, budget justification, advance account requests</p>
</li>
<li>
<p>Edits documents and checks for sponsor compliance</p>
</li>
<li>
<p>Maintains current and pending support database</p>
</li>
<li>
<p>Edits faculty CVs</p>
</li>
<li>
<p>Prepares proposal packages; coordinates submission with internal and external research offices</p>
</li>
<li>
<p>Other grant-related activities as needed</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_business_officer_mattie_haynes">Business Officer (Mattie Haynes)</h4>
<div class="ulist">
<ul>
<li>
<p>Manage all IIS grant accounts</p>
</li>
<li>
<p>Monitor IIS Operating and IDCR accounts</p>
</li>
<li>
<p>Manage program income</p>
</li>
<li>
<p>Provide monthly reports on grant and IDCR accounts</p>
</li>
<li>
<p>Rebudget as needed</p>
</li>
<li>
<p>Manage summer salary, AY incentive, and check compliance</p>
</li>
<li>
<p>HR functions; prepare contracts for research faculty</p>
</li>
<li>
<p>Act as liaison with the office of research support services, accounts payable, financial planning,</p>
</li>
<li>
<p>and grants accounting on behalf of the IIS (faculty, staff, students, etc.).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_senior_software_developer_andrew_tackett">Senior Software Developer (Andrew Tackett)</h4>
<div class="ulist">
<ul>
<li>
<p>Develop and maintain grant-sponsored software</p>
</li>
<li>
<p>Trains others in use and installation of software, prepared documentation</p>
</li>
<li>
<p>Maintains versioning, code repositories, and releases of software</p>
</li>
<li>
<p>Supervises and trains students in software development</p>
</li>
<li>
<p>GitHub administrator</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_director_alistair_windsor">Director (Alistair Windsor)</h4>
<div class="ulist">
<ul>
<li>
<p>Immigration and sabbatical invitation letters</p>
</li>
<li>
<p>Annual evaluations for faculty</p>
</li>
<li>
<p>Annual evaluations for staff</p>
</li>
<li>
<p>Assign research space as needed</p>
</li>
<li>
<p>Assign computing resources as needed</p>
</li>
<li>
<p>Assign IIS GAs on annual basis</p>
</li>
<li>
<p>Monitor and update website as needed</p>
</li>
<li>
<p>Coordinate Cognitive Science Graduate Certificate (admissions, matriculation, etc)</p>
</li>
<li>
<p>Recruit and coordinate instructors for the CogSci seminar</p>
</li>
<li>
<p>Recruit and coordinate speakers for the Speed Date</p>
</li>
<li>
<p>Coordinate public demonstrations and outreach</p>
</li>
<li>
<p>Serve as committee chair/member for faculty hires</p>
</li>
<li>
<p>Recruit and retain IIS Affiliates, including counteroffers</p>
</li>
<li>
<p>Work with IISSO to maintain student travel funding program</p>
</li>
<li>
<p>Produce annual report and program reviews as needed</p>
</li>
<li>
<p>DreamSpark, Google Apps for Education, and LinkedIn group administrator</p>
</li>
<li>
<p>Monitor the IIS and intervene as needed</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary">Summary</h3>
<div class="paragraph">
<p>You should have a basic understanding of what the IIS is, what it does, and how it works.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_basics_chapter">Git Basics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you can read only one chapter to get going with Git, this is it.
This chapter covers every basic command you need to do the vast majority of the things you&#8217;ll eventually spend your time doing with Git.
By the end of the chapter, you should be able to configure and initialize a repository, begin and stop tracking files, and stage and commit changes.
We&#8217;ll also show you how to set up Git to ignore certain files and file patterns, how to undo mistakes quickly and easily, how to browse the history of your project and view changes between commits, and how to push and pull from remote repositories.</p>
</div>
<div class="sect2">
<h3 id="_getting_a_repo">Getting a Git Repository</h3>
<div class="paragraph">
<p>You can get a Git project using two main approaches.
The first takes an existing project or directory and imports it into Git.
The second clones an existing Git repository from another server.</p>
</div>
<div class="sect3">
<h4 id="_initializing_a_repository_in_an_existing_directory">Initializing a Repository in an Existing Directory</h4>
<div class="paragraph">
<p>If you&#8217;re starting to track an existing project in Git, you need to go to the project&#8217;s directory. If you&#8217;ve never done this, it looks a little different depending on which system you&#8217;re running:</p>
</div>
<div class="paragraph">
<p>for Linux:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /home/user/your_repository</code></pre>
</div>
</div>
<div class="paragraph">
<p>for Mac:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /Users/user/your_repository</code></pre>
</div>
</div>
<div class="paragraph">
<p>for Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /c/user/your_repository</code></pre>
</div>
</div>
<div class="paragraph">
<p>and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git init</code></pre>
</div>
</div>
<div class="paragraph">
<p>This creates a new subdirectory named <code>.git</code> that contains all of your necessary repository files – a Git repository skeleton.
At this point, nothing in your project is tracked yet.
(See <a href="#_git_internals">[_git_internals]</a> for more information about exactly what files are contained in the <code>.git</code> directory you just created.)</p>
</div>
<div class="paragraph">
<p>If you want to start version-controlling existing files (as opposed to an empty directory), you should probably begin tracking those files and do an initial commit.
You can accomplish that with a few <code>git add</code> commands that specify the files you want to track, followed by a <code>git commit</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add *.c
$ git add LICENSE
$ git commit -m 'initial project version'</code></pre>
</div>
</div>
<div class="paragraph">
<p>We&#8217;ll go over what these commands do in just a minute.
At this point, you have a Git repository with tracked files and an initial commit.</p>
</div>
</div>
<div class="sect3">
<h4 id="_git_cloning">Cloning an Existing Repository</h4>
<div class="paragraph">
<p>If you want to get a copy of an existing Git repository – for example, a project you&#8217;d like to contribute to – the command you need is <code>git clone</code>.
If you&#8217;re familiar with other VCS systems such as Subversion, you&#8217;ll notice that the command is "clone" and not "checkout".
This is an important distinction – instead of getting just a working copy, Git receives a full copy of nearly all data that the server has.
Every version of every file for the history of the project is pulled down by default when you run <code>git clone</code>.
In fact, if your server disk gets corrupted, you can often use nearly any of the clones on any client to set the server back to the state it was in when it was cloned (you may lose some server-side hooks and such, but all the versioned data would be there – see <a href="#_git_on_the_server">Git on the Server</a> for more details).</p>
</div>
<div class="paragraph">
<p>You clone a repository with <code>git clone [url]</code>.
For example, if you want to clone the Git linkable library called libgit2, you can do so like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/libgit2/libgit2</code></pre>
</div>
</div>
<div class="paragraph">
<p>That creates a directory named &#8220;libgit2&#8221;, initializes a <code>.git</code> directory inside it, pulls down all the data for that repository, and checks out a working copy of the latest version.
If you go into the new <code>libgit2</code> directory, you&#8217;ll see the project files in there, ready to be worked on or used.
If you want to clone the repository into a directory named something other than &#8220;libgit2&#8221;, you can specify that as the next command-line option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/libgit2/libgit2 mylibgit</code></pre>
</div>
</div>
<div class="paragraph">
<p>That command does the same thing as the previous one, but the target directory is called <code>mylibgit</code>.</p>
</div>
<div class="paragraph">
<p>Git has a number of different transfer protocols you can use.
The previous example uses the <code>https://</code> protocol, but you may also see <code>git://</code> or <code>user@server:path/to/repo.git</code>, which uses the SSH transfer protocol.
<a href="#_git_on_the_server">Git on the Server</a> will introduce all of the available options the server can set up to access your Git repository and the pros and cons of each.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_recording_changes_to_the_repository">Recording Changes to the Repository</h3>
<div class="paragraph">
<p>You have a bona fide Git repository and a checkout or working copy of the files for that project.
You need to make some changes and commit snapshots of those changes into your repository each time the project reaches a state you want to record.</p>
</div>
<div class="paragraph">
<p>Remember that each file in your working directory can be in one of two states: tracked or untracked.
Tracked files are files that were in the last snapshot; they can be unmodified, modified, or staged.
Untracked files are everything else – any files in your working directory that were not in your last snapshot and are not in your staging area.
When you first clone a repository, all of your files will be tracked and unmodified because Git just checked them out and you haven&#8217;t edited anything.</p>
</div>
<div class="paragraph">
<p>As you edit files, Git sees them as modified, because you&#8217;ve changed them since your last commit.
You stage these modified files and then commit all your staged changes, and the cycle repeats.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lifecycle.png" alt="The lifecycle of the status of your files.">
</div>
<div class="title">Figure 1. The lifecycle of the status of your files.</div>
</div>
<div class="sect3">
<h4 id="_checking_status">Checking the Status of Your Files</h4>
<div class="paragraph">
<p>The main tool you use to determine which files are in which state is the <code>git status</code> command.
If you run this command directly after a clone, you should see something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean</code></pre>
</div>
</div>
<div class="paragraph">
<p>This means you have a clean working directory – in other words, none of your tracked files are modified.
Git also doesn&#8217;t see any untracked files, or they would be listed here.
Finally, the command tells you which branch you&#8217;re on and informs you that it has not diverged from the same branch on the server.
For now, that branch is always &#8220;master&#8221;, which is the default; you won&#8217;t worry about it here.
<a href="#_git_branching">Git Branching</a> will go over branches and references in detail.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say you add a new file to your project, a simple README file.
If the file didn&#8217;t exist before, and you run <code>git status</code>, you see your untracked file like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ echo 'My Project' &gt; README
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

    README

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that your new README file is untracked, because it&#8217;s under the &#8220;Untracked files&#8221; heading in your status output.
Untracked basically means that Git sees a file you didn&#8217;t have in the previous snapshot (commit); Git won&#8217;t start including it in your commit snapshots until you explicitly tell it to do so.
It does this so you don&#8217;t accidentally begin including generated binary files or other files that you did not mean to include.
You do want to start including README, so let&#8217;s start tracking the file.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tracking_files">Tracking New Files</h4>
<div class="paragraph">
<p>In order to begin tracking a new file, you use the command <code>git add</code>.
To begin tracking the README file, you can run this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add README</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run your status command again, you can see that your README file is now tracked and staged to be committed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can tell that it&#8217;s staged because it&#8217;s under the &#8220;Changes to be committed&#8221; heading.
If you commit at this point, the version of the file at the time you ran <code>git add</code> is what will be in the historical snapshot.
You may recall that when you ran <code>git init</code> earlier, you then ran <code>git add (files)</code> – that was to begin tracking files in your directory.
The <code>git add</code> command takes a path name for either a file or a directory; if it&#8217;s a directory, the command adds all the files in that directory recursively.</p>
</div>
</div>
<div class="sect3">
<h4 id="_staging_modified_files">Staging Modified Files</h4>
<div class="paragraph">
<p>Let&#8217;s change a file that was already tracked.
If you change a previously tracked file called <code>CONTRIBUTING.md</code> and then run your <code>git status</code> command again, you get something that looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>CONTRIBUTING.md</code> file appears under a section named &#8220;Changes not staged for commit&#8221; – which means that a file that is tracked has been modified in the working directory but not yet staged.
To stage it, you run the <code>git add</code> command.
<code>git add</code> is a multipurpose command – you use it to begin tracking new files, to stage files, and to do other things like marking merge-conflicted files as resolved.
It may be helpful to think of it more as &#8220;add this content to the next commit&#8221; rather than &#8220;add this file to the project&#8221;.
Let&#8217;s run <code>git add</code> now to stage the <code>CONTRIBUTING.md</code> file, and then run <code>git status</code> again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both files are staged and will go into your next commit.
At this point, suppose you remember one little change that you want to make in <code>CONTRIBUTING.md</code> before you commit it.
You open it again and make that change, and you&#8217;re ready to commit.
However, let&#8217;s run <code>git status</code> one more time:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>What the heck?
Now <code>CONTRIBUTING.md</code> is listed as both staged <em>and</em> unstaged.
How is that possible?
It turns out that Git stages a file exactly as it is when you run the <code>git add</code> command.
If you commit now, the version of <code>CONTRIBUTING.md</code> as it was when you last ran the <code>git add</code> command is how it will go into the commit, not the version of the file as it looks in your working directory when you run <code>git commit</code>.
If you modify a file after you run <code>git add</code>, you have to run <code>git add</code> again to stage the latest version of the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_short_status">Short Status</h4>
<div class="paragraph">
<p>While the <code>git status</code> output is pretty comprehensive, it&#8217;s also quite wordy.
Git also has a short status flag so you can see your changes in a more compact way.
If you run <code>git status -s</code> or <code>git status --short</code> you get a far more simplified output from the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status -s
 M README
MM Rakefile
A  lib/git.rb
M  lib/simplegit.rb
?? LICENSE.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>New files that aren&#8217;t tracked have a <code>??</code> next to them, new files that have been added to the staging area have an <code>A</code>, modified files have an <code>M</code> and so on.
There are two columns to the output - the left-hand column indicates the status of the staging area and the right-hand column indicates the status of the working tree.
So for example in that output, the <code>README</code> file is modified in the working directory but not yet staged, while the <code>lib/simplegit.rb</code> file is modified and staged.
The <code>Rakefile</code> was modified, staged and then modified again, so there are changes to it that are both staged and unstaged.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ignoring">Ignoring Files</h4>
<div class="paragraph">
<p>Often, you&#8217;ll have a class of files that you don&#8217;t want Git to automatically add or even show you as being untracked.
These are generally automatically generated files such as log files or files produced by your build system.
In such cases, you can create a file listing patterns to match them named <code>.gitignore</code>.
Here is an example <code>.gitignore</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat .gitignore
*.[oa]
*~</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first line tells Git to ignore any files ending in &#8220;.o&#8221; or &#8220;.a&#8221; – object and archive files that may be the product of building your code.
The second line tells Git to ignore all files whose names end with a tilde (<code>~</code>), which is used by many text editors such as Emacs to mark temporary files.
You may also include a log, tmp, or pid directory; automatically generated documentation; and so on.
Setting up a <code>.gitignore</code> file before you get going is generally a good idea so you don&#8217;t accidentally commit files that you really don&#8217;t want in your Git repository.</p>
</div>
<div class="paragraph">
<p>The rules for the patterns you can put in the <code>.gitignore</code> file are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Blank lines or lines starting with <code>#</code> are ignored.</p>
</li>
<li>
<p>Standard glob patterns work.</p>
</li>
<li>
<p>You can start patterns with a forward slash (<code>/</code>) to avoid recursivity.</p>
</li>
<li>
<p>You can end patterns with a forward slash (<code>/</code>) to specify a directory.</p>
</li>
<li>
<p>You can negate a pattern by starting it with an exclamation point (<code>!</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Glob patterns are like simplified regular expressions that shells use.
An asterisk (<code>*</code>) matches zero or more characters; <code>[abc]</code> matches any character inside the brackets (in this case a, b, or c); a question mark (<code>?</code>) matches a single character; and brackets enclosing characters separated by a hyphen (<code>[0-9]</code>) matches any character between them (in this case 0 through 9).
You can also use two asterisks to match nested directories; <code>a/**/z</code> would match <code>a/z</code>, <code>a/b/z</code>, <code>a/b/c/z</code>, and so on.</p>
</div>
<div class="paragraph">
<p>Here is another example .gitignore file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># no .a files
*.a

# but do track lib.a, even though you're ignoring .a files above
!lib.a

# only ignore the TODO file in the current directory, not subdir/TODO
/TODO

# ignore all files in the build/ directory
build/

# ignore doc/notes.txt, but not doc/server/arch.txt
doc/*.txt

# ignore all .pdf files in the doc/ directory
doc/**/*.pdf</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>GitHub maintains a fairly comprehensive list of good <code>.gitignore</code> file examples for dozens of projects and languages at <a href="https://github.com/github/gitignore" class="bare">https://github.com/github/gitignore</a> if you want a starting point for your project.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_git_diff_staged">Viewing Your Staged and Unstaged Changes</h4>
<div class="paragraph">
<p>If the <code>git status</code> command is too vague for you – you want to know exactly what you changed, not just which files were changed – you can use the <code>git diff</code> command.
We&#8217;ll cover <code>git diff</code> in more detail later, but you&#8217;ll probably use it most often to answer these two questions: What have you changed but not yet staged?
And what have you staged that you are about to commit?
Although <code>git status</code> answers those questions very generally by listing the file names, <code>git diff</code> shows you the exact lines added and removed – the patch, as it were.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say you edit and stage the <code>README</code> file again and then edit the <code>CONTRIBUTING.md</code> file without staging it.
If you run your <code>git status</code> command, you once again see something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    modified:   README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>To see what you&#8217;ve changed but not yet staged, type <code>git diff</code> with no other arguments:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index 8ebb991..643e24f 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -65,7 +65,8 @@ branch directly, things can get messy.
 Please include a nice description of your changes when you submit your PR;
 if we have to read the whole diff to figure out why you're contributing
 in the first place, you're less likely to get feedback and have your change
-merged in.
+merged in. Also, split your changes into comprehensive chunks if your patch is
+longer than a dozen lines.

 If you are starting to work on a particular area, feel free to submit a PR
 that highlights your work in progress (and note in the PR title that it's</code></pre>
</div>
</div>
<div class="paragraph">
<p>That command compares what is in your working directory with what is in your staging area.
The result tells you the changes you&#8217;ve made that you haven&#8217;t yet staged.</p>
</div>
<div class="paragraph">
<p>If you want to see what you&#8217;ve staged that will go into your next commit, you can use <code>git diff --staged</code>.
This command compares your staged changes to your last commit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --staged
diff --git a/README b/README
new file mode 100644
index 0000000..03902a1
--- /dev/null
+++ b/README
@@ -0,0 +1 @@
+My Project</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s important to note that <code>git diff</code> by itself doesn&#8217;t show all changes made since your last commit – only changes that are still unstaged.
This can be confusing, because if you&#8217;ve staged all of your changes, <code>git diff</code> will give you no output.</p>
</div>
<div class="paragraph">
<p>For another example, if you stage the <code>CONTRIBUTING.md</code> file and then edit it, you can use <code>git diff</code> to see the changes in the file that are staged and the changes that are unstaged.
If our environment looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ echo '# test line' &gt;&gt; CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    modified:   CONTRIBUTING.md

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can use <code>git diff</code> to see what is still unstaged:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index 643e24f..87f08c8 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -119,3 +119,4 @@ at the
 ## Starter Projects

 See our [projects list](https://github.com/libgit2/libgit2/blob/development/PROJECTS.md).
+# test line</code></pre>
</div>
</div>
<div class="paragraph">
<p>and <code>git diff --cached</code> to see what you&#8217;ve staged so far (<code>--staged</code> and <code>--cached</code> are synonyms):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --cached
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index 8ebb991..643e24f 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -65,7 +65,8 @@ branch directly, things can get messy.
 Please include a nice description of your changes when you submit your PR;
 if we have to read the whole diff to figure out why you're contributing
 in the first place, you're less likely to get feedback and have your change
-merged in.
+merged in. Also, split your changes into comprehensive chunks if your patch is
+longer than a dozen lines.

 If you are starting to work on a particular area, feel free to submit a PR
 that highlights your work in progress (and note in the PR title that it's</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Git Diff in an External Tool</div>
<div class="paragraph">
<p>We will continue to use the <code>git diff</code> command in various ways throughout the rest of the book.
There is another way to look at these diffs if you prefer a graphical or external diff viewing program instead.
If you run <code>git difftool</code> instead of <code>git diff</code>, you can view any of these diffs in software like emerge, vimdiff and many more (including commercial products).
Run <code>git difftool --tool-help</code> to see what is available on your system.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_committing_changes">Committing Your Changes</h4>
<div class="paragraph">
<p>Now that your staging area is set up the way you want it, you can commit your changes.
Remember that anything that is still unstaged – any files you have created or modified that you haven&#8217;t run <code>git add</code> on since you edited them – won&#8217;t go into this commit.
They will stay as modified files on your disk.
In this case, let&#8217;s say that the last time you ran <code>git status</code>, you saw that everything was staged, so you&#8217;re ready to commit your changes.
The simplest way to commit is to type <code>git commit</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Doing so launches your editor of choice.
(This is set by your shell&#8217;s <code>$EDITOR</code> environment variable – usually vim or emacs, although you can configure it with whatever you want using the <code>git config --global core.editor</code> command as you saw in <a href="#_getting_started">Getting Started</a>).</p>
</div>
<div class="paragraph">
<p>The editor displays the following text (this example is a Vim screen):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# Your branch is up-to-date with 'origin/master'.
#
# Changes to be committed:
#	new file:   README
#	modified:   CONTRIBUTING.md
#
~
~
~
".git/COMMIT_EDITMSG" 9L, 283C</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that the default commit message contains the latest output of the <code>git status</code> command commented out and one empty line on top.
You can remove these comments and type your commit message, or you can leave them there to help you remember what you&#8217;re committing.
(For an even more explicit reminder of what you&#8217;ve modified, you can pass the <code>-v</code> option to <code>git commit</code>.
Doing so also puts the diff of your change in the editor so you can see exactly what changes you&#8217;re committing.)
When you exit the editor, Git creates your commit with that commit message (with the comments and diff stripped out).</p>
</div>
<div class="paragraph">
<p>Alternatively, you can type your commit message inline with the <code>commit</code> command by specifying it after a <code>-m</code> flag, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit -m "Story 182: Fix benchmarks for speed"
[master 463dc4f] Story 182: Fix benchmarks for speed
 2 files changed, 2 insertions(+)
 create mode 100644 README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you&#8217;ve created your first commit!
You can see that the commit has given you some output about itself: which branch you committed to (<code>master</code>), what SHA-1 checksum the commit has (<code>463dc4f</code>), how many files were changed, and statistics about lines added and removed in the commit.</p>
</div>
<div class="paragraph">
<p>Remember that the commit records the snapshot you set up in your staging area.
Anything you didn&#8217;t stage is still sitting there modified; you can do another commit to add it to your history.
Every time you perform a commit, you&#8217;re recording a snapshot of your project that you can revert to or compare to later.</p>
</div>
</div>
<div class="sect3">
<h4 id="_skipping_the_staging_area">Skipping the Staging Area</h4>
<div class="paragraph">
<p>
Although it can be amazingly useful for crafting commits exactly how you want them, the staging area is sometimes a bit more complex than you need in your workflow.
If you want to skip the staging area, Git provides a simple shortcut.
Adding the <code>-a</code> option to the <code>git commit</code> command makes Git automatically stage every file that is already tracked before doing the commit, letting you skip the <code>git add</code> part:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md

no changes added to commit (use "git add" and/or "git commit -a")
$ git commit -a -m 'added new benchmarks'
[master 83e38c7] added new benchmarks
 1 file changed, 5 insertions(+), 0 deletions(-)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice how you don&#8217;t have to run <code>git add</code> on the <code>CONTRIBUTING.md</code> file in this case before you commit.
That&#8217;s because the <code>-a</code> flag includes all changed files.
This is convenient, but be careful; sometimes this flag will cause you to include unwanted changes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_removing_files">Removing Files</h4>
<div class="paragraph">
<p>
To remove a file from Git, you have to remove it from your tracked files (more accurately, remove it from your staging area) and then commit.
The <code>git rm</code> command does that, and also removes the file from your working directory so you don&#8217;t see it as an untracked file the next time around.</p>
</div>
<div class="paragraph">
<p>If you simply remove the file from your working directory, it shows up under the &#8220;Changed but not updated&#8221; (that is, <em>unstaged</em>) area of your <code>git status</code> output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ rm PROJECTS.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add/rm &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

        deleted:    PROJECTS.md

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, if you run <code>git rm</code>, it stages the file&#8217;s removal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm PROJECTS.md
rm 'PROJECTS.md'
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    deleted:    PROJECTS.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>The next time you commit, the file will be gone and no longer tracked.
If you modified the file and added it to the index already, you must force the removal with the <code>-f</code> option.
This is a safety feature to prevent accidental removal of data that hasn&#8217;t yet been recorded in a snapshot and that can&#8217;t be recovered from Git.</p>
</div>
<div class="paragraph">
<p>Another useful thing you may want to do is to keep the file in your working tree but remove it from your staging area.
In other words, you may want to keep the file on your hard drive but not have Git track it anymore.
This is particularly useful if you forgot to add something to your <code>.gitignore</code> file and accidentally staged it, like a large log file or a bunch of <code>.a</code> compiled files.
To do this, use the <code>--cached</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm --cached README</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can pass files, directories, and file-glob patterns to the <code>git rm</code> command.
That means you can do things such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm log/\*.log</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the backslash (<code>\</code>) in front of the <code>*</code>.
This is necessary because Git does its own filename expansion in addition to your shell&#8217;s filename expansion.
This command removes all files that have the <code>.log</code> extension in the <code>log/</code> directory.
Or, you can do something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm \*~</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command removes all files whose names end with a <code>~</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_git_mv">Moving Files</h4>
<div class="paragraph">
<p>
Unlike many other VCS systems, Git doesn&#8217;t explicitly track file movement.
If you rename a file in Git, no metadata is stored in Git that tells it you renamed the file.
However, Git is pretty smart about figuring that out after the fact – we&#8217;ll deal with detecting file movement a bit later.</p>
</div>
<div class="paragraph">
<p>Thus it&#8217;s a bit confusing that Git has a <code>mv</code> command.
If you want to rename a file in Git, you can run something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mv file_from file_to</code></pre>
</div>
</div>
<div class="paragraph">
<p>and it works fine.
In fact, if you run something like this and look at the status, you&#8217;ll see that Git considers it a renamed file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mv README.md README
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, this is equivalent to running something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ mv README.md README
$ git rm README.md
$ git add README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git figures out that it&#8217;s a rename implicitly, so it doesn&#8217;t matter if you rename a file that way or with the <code>mv</code> command.
The only real difference is that <code>git mv</code> is one command instead of three – it&#8217;s a convenience function.
More importantly, you can use any tool you like to rename a file, and address the add/rm later, before you commit.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_viewing_history">Viewing the Commit History</h3>
<div class="paragraph">
<p>After you have created several commits, or if you have cloned a repository with an existing commit history, you&#8217;ll probably want to look back to see what has happened.
The most basic and powerful tool to do this is the <code>git log</code> command.</p>
</div>
<div class="paragraph">
<p>These examples use a very simple project called &#8220;simplegit&#8221;.
To get the project, run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/schacon/simplegit-progit</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you run <code>git log</code> in this project, you should get output that looks something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    changed the version number

commit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 16:40:33 2008 -0700

    removed unnecessary test

commit a11bef06a3f659402fe7563abf99ad00de2209e6
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 10:31:28 2008 -0700

    first commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, with no arguments, <code>git log</code> lists the commits made in that repository in reverse chronological order – that is, the most recent commits show up first.
As you can see, this command lists each commit with its SHA-1 checksum, the author&#8217;s name and email, the date written, and the commit message.</p>
</div>
<div class="paragraph">
<p>A huge number and variety of options to the <code>git log</code> command are available to show you exactly what you&#8217;re looking for.
Here, we&#8217;ll show you some of the most popular.</p>
</div>
<div class="paragraph">
<p>One of the more helpful options is <code>-p</code>, which shows the difference introduced in each commit.
You can also use <code>-2</code>, which limits the output to only the last two entries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log -p -2
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    changed the version number

diff --git a/Rakefile b/Rakefile
index a874b73..8f94139 100644
--- a/Rakefile
+++ b/Rakefile
@@ -5,7 +5,7 @@ require 'rake/gempackagetask'
 spec = Gem::Specification.new do |s|
     s.platform  =   Gem::Platform::RUBY
     s.name      =   "simplegit"
-    s.version   =   "0.1.0"
+    s.version   =   "0.1.1"
     s.author    =   "Scott Chacon"
     s.email     =   "schacon@gee-mail.com"
     s.summary   =   "A simple gem for using Git in Ruby code."

commit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 16:40:33 2008 -0700

    removed unnecessary test

diff --git a/lib/simplegit.rb b/lib/simplegit.rb
index a0a60ae..47c6340 100644
--- a/lib/simplegit.rb
+++ b/lib/simplegit.rb
@@ -18,8 +18,3 @@ class SimpleGit
     end

 end
-
-if $0 == __FILE__
-  git = SimpleGit.new
-  puts git.show
-end
\ No newline at end of file</code></pre>
</div>
</div>
<div class="paragraph">
<p>This option displays the same information but with a diff directly following each entry.
This is very helpful for code review or to quickly browse what happened during a series of commits that a collaborator has added.
You can also use a series of summarizing options with <code>git log</code>.
For example, if you want to see some abbreviated stats for each commit, you can use the <code>--stat</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --stat
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    changed the version number

 Rakefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 16:40:33 2008 -0700

    removed unnecessary test

 lib/simplegit.rb | 5 -----
 1 file changed, 5 deletions(-)

commit a11bef06a3f659402fe7563abf99ad00de2209e6
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Sat Mar 15 10:31:28 2008 -0700

    first commit

 README           |  6 ++++++
 Rakefile         | 23 +++++++++++++++++++++++
 lib/simplegit.rb | 25 +++++++++++++++++++++++++
 3 files changed, 54 insertions(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the <code>--stat</code> option prints below each commit entry a list of modified files, how many files were changed, and how many lines in those files were added and removed.
It also puts a summary of the information at the end.</p>
</div>
<div class="paragraph">
<p>Another really useful option is <code>--pretty</code>.
This option changes the log output to formats other than the default.
A few prebuilt options are available for you to use.
The <code>oneline</code> option prints each commit on a single line, which is useful if you&#8217;re looking at a lot of commits.
In addition, the <code>short</code>, <code>full</code>, and <code>fuller</code> options show the output in roughly the same format but with less or more information, respectively:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty=oneline
ca82a6dff817ec66f44342007202690a93763949 changed the version number
085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7 removed unnecessary test
a11bef06a3f659402fe7563abf99ad00de2209e6 first commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>The most interesting option is <code>format</code>, which allows you to specify your own log output format.
This is especially useful when you&#8217;re generating output for machine parsing – because you specify the format explicitly, you know it won&#8217;t change with updates to Git:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty=format:"%h - %an, %ar : %s"
ca82a6d - Scott Chacon, 6 years ago : changed the version number
085bb3b - Scott Chacon, 6 years ago : removed unnecessary test
a11bef0 - Scott Chacon, 6 years ago : first commit</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#pretty_format">Useful options for <code>git log --pretty=format</code></a> lists some of the more useful options that <code>format</code> takes.</p>
</div>
<table id="pretty_format" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Useful options for <code>git log --pretty=format</code></caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description of Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%H</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commit hash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abbreviated commit hash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%T</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tree hash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abbreviated tree hash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%P</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parent hashes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abbreviated parent hashes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%an</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Author name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ae</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Author email</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ad</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Author date (format respects the --date=option)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ar</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Author date, relative</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%cn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Committer name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%ce</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Committer email</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%cd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Committer date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%cr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Committer date, relative</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%s</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subject</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You may be wondering what the difference is between <em>author</em> and <em>committer</em>.
The author is the person who originally wrote the work, whereas the committer is the person who last applied the work.
So, if you send in a patch to a project and one of the core members applies the patch, both of you get credit – you as the author, and the core member as the committer.
We&#8217;ll cover this distinction a bit more in <a href="#_distributed_git">[_distributed_git]</a>.</p>
</div>
<div class="paragraph">
<p>The <code>oneline</code> and <code>format</code> options are particularly useful with another <code>log</code> option called <code>--graph</code>.
This option adds a nice little ASCII graph showing your branch and merge history:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty=format:"%h %s" --graph
* 2d3acf9 ignore errors from SIGCHLD on trap
*  5e3ee11 Merge branch 'master' of git://github.com/dustin/grit
|\
| * 420eac9 Added a method for getting the current branch.
* | 30e367c timeout code and tests
* | 5a09431 add timeout protection to grit
* | e1193f8 support for heads with slashes in them
|/
* d6016bc require time for xmlschema
*  11d191e Merge branch 'defunkt' into local</code></pre>
</div>
</div>
<div class="paragraph">
<p>This type of output will become more interesting as we go through branching and merging in the next chapter.</p>
</div>
<div class="paragraph">
<p>Those are only some simple output-formatting options to <code>git log</code> – there are many more.
<a href="#log_options">Common options to <code>git log</code></a> lists the options we&#8217;ve covered so far, as well as some other common formatting options that may be useful, along with how they change the output of the log command.</p>
</div>
<table id="log_options" class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Common options to <code>git log</code></caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the patch introduced with each commit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--stat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show statistics for files modified in each commit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--shortstat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display only the changed/insertions/deletions line from the --stat command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--name-only</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the list of files modified after the commit information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--name-status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the list of files affected with added/modified/deleted information as well.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--abbrev-commit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show only the first few characters of the SHA-1 checksum instead of all 40.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--relative-date</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display the date in a relative format (for example, &#8220;2 weeks ago&#8221;) instead of using the full date format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--graph</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display an ASCII graph of the branch and merge history beside the log output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--pretty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show commits in an alternate format. Options include oneline, short, full, fuller, and format (where you specify your own format).</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_limiting_log_output">Limiting Log Output</h4>
<div class="paragraph">
<p>In addition to output-formatting options, <code>git log</code> takes a number of useful limiting options – that is, options that let you show only a subset of commits.
You&#8217;ve seen one such option already – the <code>-2</code> option, which show only the last two commits.
In fact, you can do <code>-&lt;n&gt;</code>, where <code>n</code> is any integer to show the last <code>n</code> commits.
In reality, you&#8217;re unlikely to use that often, because Git by default pipes all output through a pager so you see only one page of log output at a time.</p>
</div>
<div class="paragraph">
<p>However, the time-limiting options such as <code>--since</code> and <code>--until</code> are very useful.
For example, this command gets the list of commits made in the last two weeks:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --since=2.weeks</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command works with lots of formats – you can specify a specific date like <code>"2008-01-15"</code>, or a relative date such as <code>"2 years 1 day 3 minutes ago"</code>.</p>
</div>
<div class="paragraph">
<p>You can also filter the list to commits that match some search criteria.
The <code>--author</code> option allows you to filter on a specific author, and the <code>--grep</code> option lets you search for keywords in the commit messages.
(Note that if you want to specify both author and grep options, you have to add <code>--all-match</code> or the command will match commits with either.)</p>
</div>
<div class="paragraph">
<p>Another really helpful filter is the <code>-S</code> option which takes a string and only shows the commits that introduced a change to the code that added or removed that string.
For instance, if you wanted to find the last commit that added or removed a reference to a specific function, you could call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log -Sfunction_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>The last really useful option to pass to <code>git log</code> as a filter is a path.
If you specify a directory or file name, you can limit the log output to commits that introduced a change to those files.
This is always the last option and is generally preceded by double dashes (<code>--</code>) to separate the paths from the options.</p>
</div>
<div class="paragraph">
<p>In <a href="#limit_options">Options to limit the output of <code>git log</code></a> we&#8217;ll list these and a few other common options for your reference.</p>
</div>
<table id="limit_options" class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Options to limit the output of <code>git log</code></caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-(n)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show only the last n commits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--since</code>, <code>--after</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit the commits to those made after the specified date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--until</code>, <code>--before</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit the commits to those made before the specified date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--author</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only show commits in which the author entry matches the specified string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--committer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only show commits in which the committer entry matches the specified string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--grep</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only show commits with a commit message containing the string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-S</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only show commits adding or removing code matching the string</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, if you want to see which commits modifying test files in the Git source code history were committed by Junio Hamano in the month of October 2008 and are not merge commits, you can run something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty="%h - %s" --author=gitster --since="2008-10-01" \
   --before="2008-11-01" --no-merges -- t/
5610e3b - Fix testcase failure when extended attributes are in use
acd3b9e - Enhance hold_lock_file_for_{update,append}() API
f563754 - demonstrate breakage of detached checkout with symbolic link HEAD
d1a43f2 - reset --hard/read-tree --reset -u: remove unmerged new paths
51a94af - Fix "checkout --track -b newbranch" on detached HEAD
b0ad11e - pull: allow "git pull origin $something:$current_branch" into an unborn branch</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of the nearly 40,000 commits in the Git source code history, this command shows the 6 that match those criteria.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_undoing">Undoing Things</h3>
<div class="paragraph">
<p>At any stage, you may want to undo something.
Here, we&#8217;ll review a few basic tools for undoing changes that you&#8217;ve made.
Be careful, because you can&#8217;t always undo some of these undos.
This is one of the few areas in Git where you may lose some work if you do it wrong.</p>
</div>
<div class="paragraph">
<p>One of the common undos takes place when you commit too early and possibly forget to add some files, or you mess up your commit message.
If you want to try that commit again, you can run commit with the <code>--amend</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit --amend</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command takes your staging area and uses it for the commit.
If you&#8217;ve made no changes since your last commit (for instance, you run this command immediately after your previous commit), then your snapshot will look exactly the same, and all you&#8217;ll change is your commit message.</p>
</div>
<div class="paragraph">
<p>The same commit-message editor fires up, but it already contains the message of your previous commit.
You can edit the message the same as always, but it overwrites your previous commit.</p>
</div>
<div class="paragraph">
<p>As an example, if you commit and then realize you forgot to stage the changes in a file you wanted to add to this commit, you can do something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit -m 'initial commit'
$ git add forgotten_file
$ git commit --amend</code></pre>
</div>
</div>
<div class="paragraph">
<p>You end up with a single commit – the second commit replaces the results of the first.</p>
</div>
<div class="sect3">
<h4 id="_unstaging">Unstaging a Staged File</h4>
<div class="paragraph">
<p>The next two sections demonstrate how to work with your staging area and working directory changes.
The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them.
For example, let&#8217;s say you&#8217;ve changed two files and want to commit them as two separate changes, but you accidentally type <code>git add *</code> and stage them both.
How can you unstage one of the two?
The <code>git status</code> command reminds you:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add *
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Right below the &#8220;Changes to be committed&#8221; text, it says use <code>git reset HEAD &lt;file&gt;...</code> to unstage.
So, let&#8217;s use that advice to unstage the <code>CONTRIBUTING.md</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git reset HEAD CONTRIBUTING.md
Unstaged changes after reset:
M	CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>The command is a bit strange, but it works.
The <code>CONTRIBUTING.md</code> file is modified but once again unstaged.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>It&#8217;s true that <code>git reset</code> can be a dangerous command, especially if you provide the <code>--hard</code> flag.
However, in the scenario described above, the file in your working directory is not touched, so it&#8217;s relatively safe.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For now this magic invocation is all you need to know about the <code>git reset</code> command.
We&#8217;ll go into much more detail about what <code>reset</code> does and how to master it to do really interesting things in <a href="#_git_reset">[_git_reset]</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_unmodifying_a_modified_file">Unmodifying a Modified File</h4>
<div class="paragraph">
<p>What if you realize that you don&#8217;t want to keep your changes to the <code>CONTRIBUTING.md</code> file?
How can you easily unmodify it – revert it back to what it looked like when you last committed (or initially cloned, or however you got it into your working directory)?
Luckily, <code>git status</code> tells you how to do that, too.
In the last example output, the unstaged area looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>It tells you pretty explicitly how to discard the changes you&#8217;ve made.
Let&#8217;s do what it says:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -- CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that the changes have been reverted.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>It&#8217;s important to understand that <code>git checkout -- &lt;file&gt;</code> is a dangerous command.
Any changes you made to that file are gone – Git just copied another file over it.
Don&#8217;t ever use this command unless you absolutely know that you don&#8217;t want the file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you would like to keep the changes you&#8217;ve made to that file but still need to get it out of the way for now, we&#8217;ll go over stashing and branching in <a href="#_git_branching">Git Branching</a>; these are generally better ways to go.</p>
</div>
<div class="paragraph">
<p>Remember, anything that is <em>committed</em> in Git can almost always be recovered.
Even commits that were on branches that were deleted or commits that were overwritten with an <code>--amend</code> commit can be recovered (see <a href="#_data_recovery">[_data_recovery]</a> for data recovery).
However, anything you lose that was never committed is likely never to be seen again.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_repos">Working with Remotes</h3>
<div class="paragraph">
<p>To be able to collaborate on any Git project, you need to know how to manage your remote repositories.
Remote repositories are versions of your project that are hosted on the Internet or network somewhere.
You can have several of them, each of which generally is either read-only or read/write for you.
Collaborating with others involves managing these remote repositories and pushing and pulling data to and from them when you need to share work.
Managing remote repositories includes knowing how to add remote repositories, remove remotes that are no longer valid, manage various remote branches and define them as being tracked or not, and more.
In this section, we&#8217;ll cover some of these remote-management skills.</p>
</div>
<div class="sect3">
<h4 id="_showing_your_remotes">Showing Your Remotes</h4>
<div class="paragraph">
<p>To see which remote servers you have configured, you can run the <code>git remote</code> command.
It lists the shortnames of each remote handle you&#8217;ve specified.
If you&#8217;ve cloned your repository, you should at least see origin – that is the default name Git gives to the server you cloned from:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/schacon/ticgit
Cloning into 'ticgit'...
remote: Reusing existing pack: 1857, done.
remote: Total 1857 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (1857/1857), 374.35 KiB | 268.00 KiB/s, done.
Resolving deltas: 100% (772/772), done.
Checking connectivity... done.
$ cd ticgit
$ git remote
origin</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also specify <code>-v</code>, which shows you the URLs that Git has stored for the shortname to be used when reading and writing to that remote:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote -v
origin	https://github.com/schacon/ticgit (fetch)
origin	https://github.com/schacon/ticgit (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you have more than one remote, the command lists them all.
For example, a repository with multiple remotes for working with several collaborators might look something like this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd grit
$ git remote -v
bakkdoor  https://github.com/bakkdoor/grit (fetch)
bakkdoor  https://github.com/bakkdoor/grit (push)
cho45     https://github.com/cho45/grit (fetch)
cho45     https://github.com/cho45/grit (push)
defunkt   https://github.com/defunkt/grit (fetch)
defunkt   https://github.com/defunkt/grit (push)
koke      git://github.com/koke/grit.git (fetch)
koke      git://github.com/koke/grit.git (push)
origin    git@github.com:mojombo/grit.git (fetch)
origin    git@github.com:mojombo/grit.git (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This means we can pull contributions from any of these users pretty easily.
We may additionally have permission to push to one or more of these, though we can&#8217;t tell that here.</p>
</div>
<div class="paragraph">
<p>Notice that these remotes use a variety of protocols; we&#8217;ll cover more about this in <a href="#_git_on_the_server">Git on the Server</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_adding_remote_repositories">Adding Remote Repositories</h4>
<div class="paragraph">
<p>We&#8217;ve mentioned and given some demonstrations of how the <em>clone</em> command implicitly adds the <code>origin</code> remote for you.
Here&#8217;s how to add a new remote explicitly.
To add a new remote Git repository as a shortname you can reference easily, run <code>git remote add &lt;shortname&gt; &lt;url&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote
origin
$ git remote add pb https://github.com/paulboone/ticgit
$ git remote -v
origin	https://github.com/schacon/ticgit (fetch)
origin	https://github.com/schacon/ticgit (push)
pb	https://github.com/paulboone/ticgit (fetch)
pb	https://github.com/paulboone/ticgit (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can use the string <code>pb</code> on the command line in lieu of the whole URL.
For example, if you want to fetch all the information that Paul has but that you don&#8217;t yet have in your repository, you can run <code>git fetch pb</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch pb
remote: Counting objects: 43, done.
remote: Compressing objects: 100% (36/36), done.
remote: Total 43 (delta 10), reused 31 (delta 5)
Unpacking objects: 100% (43/43), done.
From https://github.com/paulboone/ticgit
 * [new branch]      master     -&gt; pb/master
 * [new branch]      ticgit     -&gt; pb/ticgit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Paul&#8217;s master branch is now accessible locally as <code>pb/master</code> – you can merge it into one of your branches, or you can check out a local branch at that point if you want to inspect it.
(We&#8217;ll go over what branches are and how to use them in much more detail in <a href="#_git_branching">Git Branching</a>.)</p>
</div>
</div>
<div class="sect3">
<h4 id="_fetching_and_pulling">Fetching and Pulling from Your Remotes</h4>
<div class="paragraph">
<p>As you just saw, to get data from your remote projects, you can run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch [remote-name]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The command goes out to that remote project and pulls down all the data from that remote project that you don&#8217;t have yet.
After you do this, you should have references to all the branches from that remote, which you can merge in or inspect at any time.</p>
</div>
<div class="paragraph">
<p>If you clone a repository, the command automatically adds that remote repository under the name &#8220;origin&#8221;.
So, <code>git fetch origin</code> fetches any new work that has been pushed to that server since you cloned (or last fetched from) it.
It&#8217;s important to note that the <code>git fetch</code> command only downloads the data to your local repository – it doesn&#8217;t automatically merge it with any of your work or modify what you&#8217;re currently working on.
You have to merge it manually into your work when you&#8217;re ready.</p>
</div>
<div class="paragraph">
<p>If your current branch is set up to track a remote branch (see the next section and <a href="#_git_branching">Git Branching</a> for more information), you can use the <code>git pull</code> command to automatically fetch and then merge that remote branch into your current branch.
This may be an easier or more comfortable workflow for you; and by default, the <code>git clone</code> command automatically sets up your local master branch to track the remote master branch (or whatever the default branch is called) on the server you cloned from.
Running <code>git pull</code> generally fetches data from the server you originally cloned from and automatically tries to merge it into the code you&#8217;re currently working on.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pushing_remotes">Pushing to Your Remotes</h4>
<div class="paragraph">
<p>When you have your project at a point that you want to share, you have to push it upstream.
The command for this is simple: <code>git push [remote-name] [branch-name]</code>.
If you want to push your master branch to your <code>origin</code> server (again, cloning generally sets up both of those names for you automatically), then you can run this to push any commits you&#8217;ve done back up to the server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command works only if you cloned from a server to which you have write access and if nobody has pushed in the meantime.
If you and someone else clone at the same time and they push upstream and then you push upstream, your push will rightly be rejected.
You&#8217;ll have to fetch their work first and incorporate it into yours before you&#8217;ll be allowed to push.
See <a href="#_git_branching">Git Branching</a> for more detailed information on how to push to remote servers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_inspecting_remote">Inspecting a Remote</h4>
<div class="paragraph">
<p>If you want to see more information about a particular remote, you can use the <code>git remote show [remote-name]</code> command.
If you run this command with a particular shortname, such as <code>origin</code>, you get something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote show origin
* remote origin
  Fetch URL: https://github.com/schacon/ticgit
  Push  URL: https://github.com/schacon/ticgit
  HEAD branch: master
  Remote branches:
    master                               tracked
    dev-branch                           tracked
  Local branch configured for 'git pull':
    master merges with remote master
  Local ref configured for 'git push':
    master pushes to master (up to date)</code></pre>
</div>
</div>
<div class="paragraph">
<p>It lists the URL for the remote repository as well as the tracking branch information.
The command helpfully tells you that if you&#8217;re on the master branch and you run <code>git pull</code>, it will automatically merge in the master branch on the remote after it fetches all the remote references.
It also lists all the remote references it has pulled down.</p>
</div>
<div class="paragraph">
<p>That is a simple example you&#8217;re likely to encounter.
When you&#8217;re using Git more heavily, however, you may see much more information from <code>git remote show</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote show origin
* remote origin
  URL: https://github.com/my-org/complex-project
  Fetch URL: https://github.com/my-org/complex-project
  Push  URL: https://github.com/my-org/complex-project
  HEAD branch: master
  Remote branches:
    master                           tracked
    dev-branch                       tracked
    markdown-strip                   tracked
    issue-43                         new (next fetch will store in remotes/origin)
    issue-45                         new (next fetch will store in remotes/origin)
    refs/remotes/origin/issue-11     stale (use 'git remote prune' to remove)
  Local branches configured for 'git pull':
    dev-branch merges with remote dev-branch
    master     merges with remote master
  Local refs configured for 'git push':
    dev-branch                     pushes to dev-branch                     (up to date)
    markdown-strip                 pushes to markdown-strip                 (up to date)
    master                         pushes to master                         (up to date)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command shows which branch is automatically pushed to when you run <code>git push</code> while on certain branches.
It also shows you which remote branches on the server you don&#8217;t yet have, which remote branches you have that have been removed from the server, and multiple local branches that are able to merge automatically with their remote-tracking branch when you run <code>git pull</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_removing_and_renaming_remotes">Removing and Renaming Remotes</h4>
<div class="paragraph">
<p>You can run <code>git remote rename</code> to change a remote&#8217;s shortname.
For instance, if you want to rename <code>pb</code> to <code>paul</code>, you can do so with <code>git remote rename</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote rename pb paul
$ git remote
origin
paul</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s worth mentioning that this changes all your remote-tracking branch names, too.
What used to be referenced at <code>pb/master</code> is now at <code>paul/master</code>.</p>
</div>
<div class="paragraph">
<p>If you want to remove a remote for some reason – you&#8217;ve moved the server or are no longer using a particular mirror, or perhaps a contributor isn&#8217;t contributing anymore – you can either use <code>git remote remove</code> or <code>git remote rm</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote remove paul
$ git remote
origin</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_tagging">Tagging</h3>
<div class="paragraph">
<p>
Like most VCSs, Git has the ability to tag specific points in history as being important.
Typically people use this functionality to mark release points (v1.0, and so on).
In this section, you&#8217;ll learn how to list the available tags, how to create new tags, and what the different types of tags are.</p>
</div>
<div class="sect3">
<h4 id="_listing_your_tags">Listing Your Tags</h4>
<div class="paragraph">
<p>Listing the available tags in Git is straightforward.
Just type <code>git tag</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag
v0.1
v1.3</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command lists the tags in alphabetical order; the order in which they appear has no real importance.</p>
</div>
<div class="paragraph">
<p>You can also search for tags with a particular pattern.
The Git source repo, for instance, contains more than 500 tags.
If you&#8217;re only interested in looking at the 1.8.5 series, you can run this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -l "v1.8.5*"
v1.8.5
v1.8.5-rc0
v1.8.5-rc1
v1.8.5-rc2
v1.8.5-rc3
v1.8.5.1
v1.8.5.2
v1.8.5.3
v1.8.5.4
v1.8.5.5</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_creating_tags">Creating Tags</h4>
<div class="paragraph">
<p>Git uses two main types of tags: lightweight and annotated.</p>
</div>
<div class="paragraph">
<p>A lightweight tag is very much like a branch that doesn&#8217;t change – it&#8217;s just a pointer to a specific commit.</p>
</div>
<div class="paragraph">
<p>Annotated tags, however, are stored as full objects in the Git database.
They&#8217;re checksummed; contain the tagger name, email, and date; have a tagging message; and can be signed and verified with GNU Privacy Guard (GPG).
It&#8217;s generally recommended that you create annotated tags so you can have all this information; but if you want a temporary tag or for some reason don&#8217;t want to keep the other information, lightweight tags are available too.</p>
</div>
</div>
<div class="sect3">
<h4 id="_annotated_tags">Annotated Tags</h4>
<div class="paragraph">
<p>
Creating an annotated tag in Git is simple.
The easiest way is to specify <code>-a</code> when you run the <code>tag</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -a v1.4 -m "my version 1.4"
$ git tag
v0.1
v1.3
v1.4</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>-m</code> specifies a tagging message, which is stored with the tag.
If you don&#8217;t specify a message for an annotated tag, Git launches your editor so you can type it in.</p>
</div>
<div class="paragraph">
<p>You can see the tag data along with the commit that was tagged by using the <code>git show</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git show v1.4
tag v1.4
Tagger: Ben Straub &lt;ben@straub.cc&gt;
Date:   Sat May 3 20:19:12 2014 -0700

my version 1.4

commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    changed the version number</code></pre>
</div>
</div>
<div class="paragraph">
<p>That shows the tagger information, the date the commit was tagged, and the annotation message before showing the commit information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_lightweight_tags">Lightweight Tags</h4>
<div class="paragraph">
<p>
Another way to tag commits is with a lightweight tag.
This is basically the commit checksum stored in a file – no other information is kept.
To create a lightweight tag, don&#8217;t supply the <code>-a</code>, <code>-s</code>, or <code>-m</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag v1.4-lw
$ git tag
v0.1
v1.3
v1.4
v1.4-lw
v1.5</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, if you run <code>git show</code> on the tag, you don&#8217;t see the extra tag information.
The command just shows the commit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git show v1.4-lw
commit ca82a6dff817ec66f44342007202690a93763949
Author: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Mar 17 21:52:11 2008 -0700

    changed the version number</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tagging_later">Tagging Later</h4>
<div class="paragraph">
<p>You can also tag commits after you&#8217;ve moved past them.
Suppose your commit history looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --pretty=oneline
15027957951b64cf874c3557a0f3547bd83b3ff6 Merge branch 'experiment'
a6b4c97498bd301d84096da251c98a07c7723e65 beginning write support
0d52aaab4479697da7686c15f77a3d64d9165190 one more thing
6d52a271eda8725415634dd79daabbc4d9b6008e Merge branch 'experiment'
0b7434d86859cc7b8c3d5e1dddfed66ff742fcbc added a commit function
4682c3261057305bdd616e23b64b0857d832627b added a todo file
166ae0c4d3f420721acbb115cc33848dfcc2121a started write support
9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile
964f16d36dfccde844893cac5b347e7b3d44abbc commit the todo
8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, suppose you forgot to tag the project at v1.2, which was at the &#8220;updated rakefile&#8221; commit.
You can add it after the fact.
To tag that commit, you specify the commit checksum (or part of it) at the end of the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -a v1.2 9fceb02</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see that you&#8217;ve tagged the commit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag
v0.1
v1.2
v1.3
v1.4
v1.4-lw
v1.5

$ git show v1.2
tag v1.2
Tagger: Scott Chacon &lt;schacon@gee-mail.com&gt;
Date:   Mon Feb 9 15:32:16 2009 -0800

version 1.2
commit 9fceb02d0ae598e95dc970b74767f19372d61af8
Author: Magnus Chacon &lt;mchacon@gee-mail.com&gt;
Date:   Sun Apr 27 20:43:35 2008 -0700

    updated rakefile
...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_sharing_tags">Sharing Tags</h4>
<div class="paragraph">
<p>By default, the <code>git push</code> command doesn&#8217;t transfer tags to remote servers.
You will have to explicitly push tags to a shared server after you have created them.
This process is just like sharing remote branches – you can run <code>git push origin [tagname]</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin v1.5
Counting objects: 14, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (12/12), done.
Writing objects: 100% (14/14), 2.05 KiB | 0 bytes/s, done.
Total 14 (delta 3), reused 0 (delta 0)
To git@github.com:schacon/simplegit.git
 * [new tag]         v1.5 -&gt; v1.5</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you have a lot of tags that you want to push up at once, you can also use the <code>--tags</code> option to the <code>git push</code> command.
This will transfer all of your tags to the remote server that are not already there.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin --tags
Counting objects: 1, done.
Writing objects: 100% (1/1), 160 bytes | 0 bytes/s, done.
Total 1 (delta 0), reused 0 (delta 0)
To git@github.com:schacon/simplegit.git
 * [new tag]         v1.4 -&gt; v1.4
 * [new tag]         v1.4-lw -&gt; v1.4-lw</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, when someone else clones or pulls from your repository, they will get all your tags as well.</p>
</div>
</div>
<div class="sect3">
<h4 id="_checking_out_tags">Checking out Tags</h4>
<div class="paragraph">
<p>You can&#8217;t really check out a tag in Git, since they can&#8217;t be moved around.
If you want to put a version of your repository in your working directory that looks like a specific tag, you can create a new branch at a specific tag with  <code>git checkout -b [branchname] [tagname]</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b version2 v2.0.0
Switched to a new branch 'version2'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course if you do this and do a commit, your <code>version2</code> branch will be slightly different than your <code>v2.0.0</code> tag since it will move forward with your new changes, so do be careful.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in book/02-students/1-students.asc - include::sections/aliases.asc[]</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary_2">Summary</h3>
<div class="paragraph">
<p>At this point, you can do all the basic local Git operations – creating or cloning a repository, making changes, staging and committing those changes, and viewing the history of all the changes the repository has been through.
Next, we&#8217;ll cover Git&#8217;s killer feature: its branching model.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_branching">Git Branching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
Nearly every VCS has some form of branching support.
Branching means you diverge from the main line of development and continue to do work without messing with that main line.
In many VCS tools, this is a somewhat expensive process, often requiring you to create a new copy of your source code directory, which can take a long time for large projects.</p>
</div>
<div class="paragraph">
<p>Some people refer to Git&#8217;s branching model as its &#8220;killer feature,&#8221; and it certainly sets Git apart in the VCS community.
Why is it so special?
The way Git branches is incredibly lightweight, making branching operations nearly instantaneous, and switching back and forth between branches generally just as fast.
Unlike many other VCSs, Git encourages workflows that branch and merge often, even multiple times in a day.
Understanding and mastering this feature gives you a powerful and unique tool and can entirely change the way that you develop.</p>
</div>
<div class="sect2">
<h3 id="_git_branches_overview">Branches in a Nutshell</h3>
<div class="paragraph">
<p>To really understand the way Git does branching, we need to take a step back and examine how Git stores its data.</p>
</div>
<div class="paragraph">
<p>As you may remember from <a href="#_getting_started">Getting Started</a>, Git doesn&#8217;t store data as a series of changesets or differences, but instead as a series of snapshots.</p>
</div>
<div class="paragraph">
<p>When you make a commit, Git stores a commit object that contains a pointer to the snapshot of the content you staged.
This object also contains the author&#8217;s name and email, the message that you typed, and pointers to the commit or commits that directly came before this commit (its parent or parents): zero parents for the initial commit, one parent for a normal commit, and multiple parents for a commit that results from a merge of two or more branches.</p>
</div>
<div class="paragraph">
<p>To visualize this, let&#8217;s assume that you have a directory containing three files, and you stage them all and commit.
Staging the files computes a checksum for each one (the SHA-1 hash we mentioned in <a href="#_getting_started">Getting Started</a>), stores that version of the file in the Git repository (Git refers to them as blobs), and adds that checksum to the staging area:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add README test.rb LICENSE
$ git commit -m 'The initial commit of my project'</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you create the commit by running <code>git commit</code>, Git checksums each subdirectory (in this case, just the root project directory) and stores those tree objects in the Git repository.
Git then creates a commit object that has the metadata and a pointer to the root project tree so it can re-create that snapshot when needed.</p>
</div>
<div class="paragraph">
<p>Your Git repository now contains five objects: one blob for the contents of each of your three files, one tree that lists the contents of the directory and specifies which file names are stored as which blobs, and one commit with the pointer to that root tree and all the commit metadata.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/commit-and-tree.png" alt="A commit and its tree.">
</div>
<div class="title">Figure 2. A commit and its tree</div>
</div>
<div class="paragraph">
<p>If you make some changes and commit again, the next commit stores a pointer to the commit that came immediately before it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/commits-and-parents.png" alt="Commits and their parents.">
</div>
<div class="title">Figure 3. Commits and their parents</div>
</div>
<div class="paragraph">
<p>A branch in Git is simply a lightweight movable pointer to one of these commits.
The default branch name in Git is <code>master</code>.
As you start making commits, you&#8217;re given a <code>master</code> branch that points to the last commit you made.
Every time you commit, it moves forward automatically.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The &#8220;master&#8221; branch in Git is not a special branch.
It is exactly like any other branch.
The only reason nearly every repository has one is that the <code>git init</code> command creates it by default and most people don&#8217;t bother to change it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/branch-and-history.png" alt="A branch and its commit history.">
</div>
<div class="title">Figure 4. A branch and its commit history</div>
</div>
<div class="sect3">
<h4 id="_create_new_branch">Creating a New Branch</h4>
<div class="paragraph">
<p>
What happens if you create a new branch?
Well, doing so creates a new pointer for you to move around.
Let&#8217;s say you create a new branch called testing.
You do this with the <code>git branch</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>This creates a new pointer to the same commit you&#8217;re currently on.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/two-branches.png" alt="Two branches pointing into the same series of commits.">
</div>
<div class="title">Figure 5. Two branches pointing into the same series of commits</div>
</div>
<div class="paragraph">
<p>How does Git know what branch you&#8217;re currently on?
It keeps a special pointer called <code>HEAD</code>.
Note that this is a lot different than the concept of <code>HEAD</code> in other VCSs you may be used to, such as Subversion or CVS.
In Git, this is a pointer to the local branch you&#8217;re currently on.
In this case, you&#8217;re still on <code>master</code>.
The <code>git branch</code> command only <em>created</em> a new branch – it didn&#8217;t switch to that branch.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/head-to-master.png" alt="HEAD pointing to a branch.">
</div>
<div class="title">Figure 6. HEAD pointing to a branch</div>
</div>
<div class="paragraph">
<p>You can easily see this by running a simple <code>git log</code> command that shows you where the branch pointers are pointing.
This option is called <code>--decorate</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --oneline --decorate
f30ab (HEAD -&gt; master, testing) add feature #32 - ability to add new formats to the central interface
34ac2 Fixed bug #1328 - stack overflow under certain conditions
98ca9 The initial commit of my project</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see the &#8220;master&#8221; and &#8220;testing&#8221; branches that are right there next to the <code>f30ab</code> commit.</p>
</div>
</div>
<div class="sect3">
<h4 id="_switching_branches">Switching Branches</h4>
<div class="paragraph">
<p>
To switch to an existing branch, you run the <code>git checkout</code> command.
Let&#8217;s switch to the new <code>testing</code> branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>This moves <code>HEAD</code> to point to the <code>testing</code> branch.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/head-to-testing.png" alt="HEAD points to the current branch.">
</div>
<div class="title">Figure 7. HEAD points to the current branch</div>
</div>
<div class="paragraph">
<p>What is the significance of that?
Well, let&#8217;s do another commit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim test.rb
$ git commit -a -m 'made a change'</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/advance-testing.png" alt="The HEAD branch moves forward when a commit is made.">
</div>
<div class="title">Figure 8. The HEAD branch moves forward when a commit is made</div>
</div>
<div class="paragraph">
<p>This is interesting, because now your <code>testing</code> branch has moved forward, but your <code>master</code> branch still points to the commit you were on when you ran <code>git checkout</code> to switch branches.
Let&#8217;s switch back to the <code>master</code> branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/checkout-master.png" alt="HEAD moves when you checkout.">
</div>
<div class="title">Figure 9. HEAD moves when you checkout</div>
</div>
<div class="paragraph">
<p>That command did two things.
It moved the HEAD pointer back to point to the <code>master</code> branch, and it reverted the files in your working directory back to the snapshot that <code>master</code> points to.
This also means the changes you make from this point forward will diverge from an older version of the project.
It essentially rewinds the work you&#8217;ve done in your <code>testing</code> branch so you can go in a different direction.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Switching branches changes files in your working directory</div>
<div class="paragraph">
<p>It&#8217;s important to note that when you switch branches in Git, files in your working directory will change.
If you switch to an older branch, your working directory will be reverted to look like it did the last time you committed on that branch.
If Git cannot do it cleanly, it will not let you switch at all.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s make a few changes and commit again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim test.rb
$ git commit -a -m 'made other changes'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now your project history has diverged (see <a href="#divergent_history">Divergent history</a>).
You created and switched to a branch, did some work on it, and then switched back to your main branch and did other work.
Both of those changes are isolated in separate branches: you can switch back and forth between the branches and merge them together when you&#8217;re ready.
And you did all that with simple <code>branch</code>, <code>checkout</code>, and <code>commit</code> commands.</p>
</div>
<div id="divergent_history" class="imageblock">
<div class="content">
<img src="images/advance-master.png" alt="Divergent history.">
</div>
<div class="title">Figure 10. Divergent history</div>
</div>
<div class="paragraph">
<p>You can also see this easily with the <code>git log</code> command.
If you run <code>git log --oneline --decorate --graph --all</code> it will print out the history of your commits, showing where your branch pointers are and how your history has diverged.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --oneline --decorate --graph --all
* c2b9e (HEAD, master) made other changes
| * 87ab2 (testing) made a change
|/
* f30ab add feature #32 - ability to add new formats to the
* 34ac2 fixed bug #1328 - stack overflow under certain conditions
* 98ca9 initial commit of my project</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because a branch in Git is actually a simple file that contains the 40 character SHA-1 checksum of the commit it points to, branches are cheap to create and destroy.
Creating a new branch is as quick and simple as writing 41 bytes to a file (40 characters and a newline).</p>
</div>
<div class="paragraph">
<p>This is in sharp contrast to the way most older VCS tools branch, which involves copying all of the project&#8217;s files into a second directory.
This can take several seconds or even minutes, depending on the size of the project, whereas in Git the process is always instantaneous.
Also, because we&#8217;re recording the parents when we commit, finding a proper merge base for merging is automatically done for us and is generally very easy to do.
These features help encourage developers to create and use branches often.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see why you should do so.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_basic_branching_and_merging">Basic Branching and Merging</h3>
<div class="paragraph">
<p>Let&#8217;s go through a simple example of branching and merging with a workflow that you might use in the real world.
You&#8217;ll follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Do work on a website.</p>
</li>
<li>
<p>Create a branch for a new story you&#8217;re working on.</p>
</li>
<li>
<p>Do some work in that branch.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>At this stage, you&#8217;ll receive a call that another issue is critical and you need a hotfix.
You&#8217;ll do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Switch to your production branch.</p>
</li>
<li>
<p>Create a branch to add the hotfix.</p>
</li>
<li>
<p>After it&#8217;s tested, merge the hotfix branch, and push to production.</p>
</li>
<li>
<p>Switch back to your original story and continue working.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_basic_branching">Basic Branching</h4>
<div class="paragraph">
<p>
First, let&#8217;s say you&#8217;re working on your project and have a couple of commits already.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-1.png" alt="A simple commit history.">
</div>
<div class="title">Figure 11. A simple commit history</div>
</div>
<div class="paragraph">
<p>You&#8217;ve decided that you&#8217;re going to work on issue #53 in whatever issue-tracking system your company uses.
To create a branch and switch to it at the same time, you can run the <code>git checkout</code> command with the <code>-b</code> switch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b iss53
Switched to a new branch "iss53"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is shorthand for:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch iss53
$ git checkout iss53</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-2.png" alt="Creating a new branch pointer.">
</div>
<div class="title">Figure 12. Creating a new branch pointer</div>
</div>
<div class="paragraph">
<p>You work on your website and do some commits.
Doing so moves the <code>iss53</code> branch forward, because you have it checked out (that is, your <code>HEAD</code> is pointing to it):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim index.html
$ git commit -a -m 'added a new footer [issue 53]'</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-3.png" alt="The `iss53` branch has moved forward with your work.">
</div>
<div class="title">Figure 13. The <code>iss53</code> branch has moved forward with your work</div>
</div>
<div class="paragraph">
<p>Now you get the call that there is an issue with the website, and you need to fix it immediately.
With Git, you don&#8217;t have to deploy your fix along with the <code>iss53</code> changes you&#8217;ve made, and you don&#8217;t have to put a lot of effort into reverting those changes before you can work on applying your fix to what is in production.
All you have to do is switch back to your <code>master</code> branch.</p>
</div>
<div class="paragraph">
<p>However, before you do that, note that if your working directory or staging area has uncommitted changes that conflict with the branch you&#8217;re checking out, Git won&#8217;t let you switch branches.
It&#8217;s best to have a clean working state when you switch branches.
There are ways to get around this (namely, stashing and commit amending) that we&#8217;ll cover later on, in <a href="#_git_stashing">[_git_stashing]</a>.
For now, let&#8217;s assume you&#8217;ve committed all your changes, so you can switch back to your <code>master</code> branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point, your project working directory is exactly the way it was before you started working on issue #53, and you can concentrate on your hotfix.
This is an important point to remember: when you switch branches, Git resets your working directory to look like it did the last time you committed on that branch.
It adds, removes, and modifies files automatically to make sure your working copy is what the branch looked like on your last commit to it.</p>
</div>
<div class="paragraph">
<p>Next, you have a hotfix to make.
Let&#8217;s create a hotfix branch on which to work until it&#8217;s completed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b hotfix
Switched to a new branch 'hotfix'
$ vim index.html
$ git commit -a -m 'fixed the broken email address'
[hotfix 1fb7853] fixed the broken email address
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-4.png" alt="Hotfix branch based on `master`.">
</div>
<div class="title">Figure 14. Hotfix branch based on <code>master</code></div>
</div>
<div class="paragraph">
<p>You can run your tests, make sure the hotfix is what you want, and merge it back into your <code>master</code> branch to deploy to production.
You do this with the <code>git merge</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge hotfix
Updating f42c576..3a0874c
Fast-forward
 index.html | 2 ++
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll notice the phrase &#8220;fast-forward&#8221; in that merge.
Because the commit <code>C4</code> pointed to by the branch <code>hotfix</code> you merged in was directly ahead of the commit <code>C2</code> you&#8217;re on, Git simply moves the pointer forward.
To phrase that another way, when you try to merge one commit with a commit that can be reached by following the first commit&#8217;s history, Git simplifies things by moving the pointer forward because there is no divergent work to merge together – this is called a &#8220;fast-forward.&#8221;</p>
</div>
<div class="paragraph">
<p>Your change is now in the snapshot of the commit pointed to by the <code>master</code> branch, and you can deploy the fix.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-5.png" alt="`master` is fast-forwarded to `hotfix`.">
</div>
<div class="title">Figure 15. <code>master</code> is fast-forwarded to <code>hotfix</code></div>
</div>
<div class="paragraph">
<p>After your super-important fix is deployed, you&#8217;re ready to switch back to the work you were doing before you were interrupted.
However, first you&#8217;ll delete the <code>hotfix</code> branch, because you no longer need it – the <code>master</code> branch points at the same place.
You can delete it with the <code>-d</code> option to <code>git branch</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d hotfix
Deleted branch hotfix (3a0874c).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can switch back to your work-in-progress branch on issue #53 and continue working on it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout iss53
Switched to branch "iss53"
$ vim index.html
$ git commit -a -m 'finished the new footer [issue 53]'
[iss53 ad82d7a] finished the new footer [issue 53]
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-branching-6.png" alt="Work continues on `iss53`.">
</div>
<div class="title">Figure 16. Work continues on <code>iss53</code></div>
</div>
<div class="paragraph">
<p>It&#8217;s worth noting here that the work you did in your <code>hotfix</code> branch is not contained in the files in your <code>iss53</code> branch.
If you need to pull it in, you can merge your <code>master</code> branch into your <code>iss53</code> branch by running <code>git merge master</code>, or you can wait to integrate those changes until you decide to pull the <code>iss53</code> branch back into <code>master</code> later.</p>
</div>
</div>
<div class="sect3">
<h4 id="_basic_merging">Basic Merging</h4>
<div class="paragraph">
<p>
Suppose you&#8217;ve decided that your issue #53 work is complete and ready to be merged into your <code>master</code> branch.
In order to do that, you&#8217;ll merge your <code>iss53</code> branch into <code>master</code>, much like you merged your <code>hotfix</code> branch earlier.
All you have to do is check out the branch you wish to merge into and then run the <code>git merge</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'
$ git merge iss53
Merge made by the 'recursive' strategy.
index.html |    1 +
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This looks a bit different than the <code>hotfix</code> merge you did earlier.
In this case, your development history has diverged from some older point.
Because the commit on the branch you&#8217;re on isn&#8217;t a direct ancestor of the branch you&#8217;re merging in, Git has to do some work.
In this case, Git does a simple three-way merge, using the two snapshots pointed to by the branch tips and the common ancestor of the two.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-merging-1.png" alt="Three snapshots used in a typical merge.">
</div>
<div class="title">Figure 17. Three snapshots used in a typical merge</div>
</div>
<div class="paragraph">
<p>Instead of just moving the branch pointer forward, Git creates a new snapshot that results from this three-way merge and automatically creates a new commit that points to it.
This is referred to as a merge commit, and is special in that it has more than one parent.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-merging-2.png" alt="A merge commit.">
</div>
<div class="title">Figure 18. A merge commit</div>
</div>
<div class="paragraph">
<p>It&#8217;s worth pointing out that Git determines the best common ancestor to use for its merge base; this is different than older tools like CVS or Subversion (before version 1.5), where the developer doing the merge had to figure out the best merge base for themselves.
This makes merging a heck of a lot easier in Git than in these other systems.</p>
</div>
<div class="paragraph">
<p>Now that your work is merged in, you have no further need for the <code>iss53</code> branch.
You can close the ticket in your ticket-tracking system, and delete the branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d iss53</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_basic_merge_conflicts">Basic Merge Conflicts</h4>
<div class="paragraph">
<p>
Occasionally, this process doesn&#8217;t go smoothly.
If you changed the same part of the same file differently in the two branches you&#8217;re merging together, Git won&#8217;t be able to merge them cleanly.
If your fix for issue #53 modified the same part of a file as the <code>hotfix</code>, you&#8217;ll get a merge conflict that looks something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge iss53
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git hasn&#8217;t automatically created a new merge commit.
It has paused the process while you resolve the conflict.
If you want to see which files are unmerged at any point after a merge conflict, you can run <code>git status</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
You have unmerged paths.
  (fix conflicts and run "git commit")

Unmerged paths:
  (use "git add &lt;file&gt;..." to mark resolution)

    both modified:      index.html

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Anything that has merge conflicts and hasn&#8217;t been resolved is listed as unmerged.
Git adds standard conflict-resolution markers to the files that have conflicts, so you can open them manually and resolve those conflicts.
Your file contains a section that looks something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html
&lt;div id="footer"&gt;contact : email.support@github.com&lt;/div&gt;
=======
&lt;div id="footer"&gt;
 please contact us at support@github.com
&lt;/div&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>This means the version in <code>HEAD</code> (your <code>master</code> branch, because that was what you had checked out when you ran your merge command) is the top part of that block (everything above the <code>=======</code>), while the version in your <code>iss53</code> branch looks like everything in the bottom part.
In order to resolve the conflict, you have to either choose one side or the other or merge the contents yourself.
For instance, you might resolve this conflict by replacing the entire block with this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;div id="footer"&gt;
please contact us at email.support@github.com
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This resolution has a little of each section, and the <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> lines have been completely removed.
After you&#8217;ve resolved each of these sections in each conflicted file, run <code>git add</code> on each file to mark it as resolved.
Staging the file marks it as resolved in Git.</p>
</div>
<div class="paragraph">
<p>If you want to use a graphical tool to resolve these issues, you can run <code>git mergetool</code>, which fires up an appropriate visual merge tool and walks you through the conflicts:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mergetool

This message is displayed because 'merge.tool' is not configured.
See 'git mergetool --tool-help' or 'git help config' for more details.
'git mergetool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld tortoisemerge gvimdiff diffuse diffmerge ecmerge p4merge araxis bc3 codecompare vimdiff emerge
Merging:
index.html

Normal merge conflict for 'index.html':
  {local}: modified file
  {remote}: modified file
Hit return to start merge resolution tool (opendiff):</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to use a merge tool other than the default (Git chose <code>opendiff</code> in this case because the command was run on a Mac), you can see all the supported tools listed at the top after &#8220;one of the following tools.&#8221;
Just type the name of the tool you&#8217;d rather use.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you need more advanced tools for resolving tricky merge conflicts, we cover more on merging in <a href="#_advanced_merging">[_advanced_merging]</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After you exit the merge tool, Git asks you if the merge was successful.
If you tell the script that it was, it stages the file to mark it as resolved for you.
You can run <code>git status</code> again to verify that all conflicts have been resolved:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
All conflicts fixed but you are still merging.
  (use "git commit" to conclude merge)

Changes to be committed:

    modified:   index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;re happy with that, and you verify that everything that had conflicts has been staged, you can type <code>git commit</code> to finalize the merge commit.
The commit message by default looks something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Merge branch 'iss53'

Conflicts:
    index.html
#
# It looks like you may be committing a merge.
# If this is not correct, please remove the file
#	.git/MERGE_HEAD
# and try again.


# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# All conflicts fixed but you are still merging.
#
# Changes to be committed:
#	modified:   index.html
#</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you think it would be helpful to others looking at this merge in the future, you can modify this commit message with details about how you resolved the merge and explain why you did the changes you made if these are not obvious.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_branch_management">Branch Management</h3>
<div class="paragraph">
<p>
Now that you&#8217;ve created, merged, and deleted some branches, let&#8217;s look at some branch-management tools that will come in handy when you begin using branches all the time.</p>
</div>
<div class="paragraph">
<p>The <code>git branch</code> command does more than just create and delete branches.
If you run it with no arguments, you get a simple listing of your current branches:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch
  iss53
* master
  testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice the <code>*</code> character that prefixes the <code>master</code> branch: it indicates the branch that you currently have checked out (i.e., the branch that <code>HEAD</code> points to).
This means that if you commit at this point, the <code>master</code> branch will be moved forward with your new work.
To see the last commit on each branch, you can run <code>git branch -v</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -v
  iss53   93b412c fix javascript issue
* master  7a98805 Merge branch 'iss53'
  testing 782fd34 add scott to the author list in the readmes</code></pre>
</div>
</div>
<div class="paragraph">
<p>The useful <code>--merged</code> and <code>--no-merged</code> options can filter this list to branches that you have or have not yet merged into the branch you&#8217;re currently on.
To see which branches are already merged into the branch you&#8217;re on, you can run <code>git branch --merged</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --merged
  iss53
* master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because you already merged in <code>iss53</code> earlier, you see it in your list.
Branches on this list without the <code>*</code> in front of them are generally fine to delete with <code>git branch -d</code>; you&#8217;ve already incorporated their work into another branch, so you&#8217;re not going to lose anything.</p>
</div>
<div class="paragraph">
<p>To see all the branches that contain work you haven&#8217;t yet merged in, you can run <code>git branch --no-merged</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --no-merged
  testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>This shows your other branch.
Because it contains work that isn&#8217;t merged in yet, trying to delete it with <code>git branch -d</code> will fail:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d testing
error: The branch 'testing' is not fully merged.
If you are sure you want to delete it, run 'git branch -D testing'.</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you really do want to delete the branch and lose that work, you can force it with <code>-D</code>, as the helpful message points out.</p>
</div>
</div>
<div class="sect2">
<h3 id="_branching_workflows">Branching Workflows</h3>
<div class="paragraph">
<p>Now that you have the basics of branching and merging down, what can or should you do with them?
In this section, we&#8217;ll cover some common workflows that this lightweight branching makes possible, so you can decide if you would like to incorporate it into your own development cycle.</p>
</div>
<div class="sect3">
<h4 id="_long_running_branches">Long-Running Branches</h4>
<div class="paragraph">
<p>
Because Git uses a simple three-way merge, merging from one branch into another multiple times over a long period is generally easy to do.
This means you can have several branches that are always open and that you use for different stages of your development cycle; you can merge regularly from some of them into others.</p>
</div>
<div class="paragraph">
<p>Many Git developers have a workflow that embraces this approach, such as having only code that is entirely stable in their <code>master</code> branch – possibly only code that has been or will be released.
They have another parallel branch named <code>develop</code> or <code>next</code> that they work from or use to test stability – it isn&#8217;t necessarily always stable, but whenever it gets to a stable state, it can be merged into <code>master</code>.
It&#8217;s used to pull in topic branches (short-lived branches, like your earlier <code>iss53</code> branch) when they&#8217;re ready, to make sure they pass all the tests and don&#8217;t introduce bugs.</p>
</div>
<div class="paragraph">
<p>In reality, we&#8217;re talking about pointers moving up the line of commits you&#8217;re making.
The stable branches are farther down the line in your commit history, and the bleeding-edge branches are farther up the history.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lr-branches-1.png" alt="A linear view of progressive-stability branching.">
</div>
<div class="title">Figure 19. A linear view of progressive-stability branching</div>
</div>
<div class="paragraph">
<p>It&#8217;s generally easier to think about them as work silos, where sets of commits graduate to a more stable silo when they&#8217;re fully tested.</p>
</div>
<div id="lrbranch_b" class="imageblock">
<div class="content">
<img src="images/lr-branches-2.png" alt="A ``silo'' view of progressive-stability branching.">
</div>
<div class="title">Figure 20. A &#8220;silo&#8221; view of progressive-stability branching</div>
</div>
<div class="paragraph">
<p>You can keep doing this for several levels of stability.
Some larger projects also have a <code>proposed</code> or <code>pu</code> (proposed updates) branch that has integrated branches that may not be ready to go into the <code>next</code> or <code>master</code> branch.
The idea is that your branches are at various levels of stability; when they reach a more stable level, they&#8217;re merged into the branch above them.
Again, having multiple long-running branches isn&#8217;t necessary, but it&#8217;s often helpful, especially when you&#8217;re dealing with very large or complex projects.</p>
</div>
</div>
<div class="sect3">
<h4 id="_topic_branch">Topic Branches</h4>
<div class="paragraph">
<p>
Topic branches, however, are useful in projects of any size.
A topic branch is a short-lived branch that you create and use for a single particular feature or related work.
This is something you&#8217;ve likely never done with a VCS before because it&#8217;s generally too expensive to create and merge branches.
But in Git it&#8217;s common to create, work on, merge, and delete branches several times a day.</p>
</div>
<div class="paragraph">
<p>You saw this in the last section with the <code>iss53</code> and <code>hotfix</code> branches you created.
You did a few commits on them and deleted them directly after merging them into your main branch.
This technique allows you to context-switch quickly and completely – because your work is separated into silos where all the changes in that branch have to do with that topic, it&#8217;s easier to see what has happened during code review and such.
You can keep the changes there for minutes, days, or months, and merge them in when they&#8217;re ready, regardless of the order in which they were created or worked on.</p>
</div>
<div class="paragraph">
<p>Consider an example of doing some work (on <code>master</code>), branching off for an issue (<code>iss91</code>), working on it for a bit, branching off the second branch to try another way of handling the same thing (<code>iss91v2</code>), going back to your <code>master</code> branch and working there for a while, and then branching off there to do some work that you&#8217;re not sure is a good idea (<code>dumbidea</code> branch).
Your commit history will look something like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/topic-branches-1.png" alt="Multiple topic branches.">
</div>
<div class="title">Figure 21. Multiple topic branches</div>
</div>
<div class="paragraph">
<p>Now, let&#8217;s say you decide you like the second solution to your issue best (<code>iss91v2</code>); and you showed the <code>dumbidea</code> branch to your coworkers, and it turns out to be genius.
You can throw away the original <code>iss91</code> branch (losing commits <code>C5</code> and <code>C6</code>) and merge in the other two.
Your history then looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/topic-branches-2.png" alt="History after merging `dumbidea` and `iss91v2`.">
</div>
<div class="title">Figure 22. History after merging <code>dumbidea</code> and <code>iss91v2</code></div>
</div>
<div class="paragraph">
<p>We will go into more detail about the various possible workflows for your Git project in <a href="#_distributed_git">[_distributed_git]</a>, so before you decide which branching scheme your next project will use, be sure to read that chapter.</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to remember when you&#8217;re doing all this that these branches are completely local.
When you&#8217;re branching and merging, everything is being done only in your Git repository – no server communication is happening.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_branches">Remote Branches</h3>
<div class="paragraph">
<p>
Remote references are references (pointers) in your remote repositories, including branches, tags, and so on.
You can get a full list of remote references explicitly with <code>git ls-remote [remote]</code>, or <code>git remote show [remote]</code> for remote branches as well as more information.
Nevertheless, a more common way is to take advantage of remote-tracking branches.</p>
</div>
<div class="paragraph">
<p>Remote-tracking branches are references to the state of remote branches.
They&#8217;re local references that you can&#8217;t move; they&#8217;re moved automatically for you whenever you do any network communication.
Remote-tracking branches act as bookmarks to remind you where the branches in your remote repositories were the last time you connected to them.</p>
</div>
<div class="paragraph">
<p>They take the form <code>(remote)/(branch)</code>.
For instance, if you wanted to see what the <code>master</code> branch on your <code>origin</code> remote looked like as of the last time you communicated with it, you would check the <code>origin/master</code> branch.
If you were working on an issue with a partner and they pushed up an <code>iss53</code> branch, you might have your own local <code>iss53</code> branch; but the branch on the server would point to the commit at <code>origin/iss53</code>.</p>
</div>
<div class="paragraph">
<p>This may be a bit confusing, so let&#8217;s look at an example.
Let&#8217;s say you have a Git server on your network at <code>git.ourcompany.com</code>.
If you clone from this, Git&#8217;s <code>clone</code> command automatically names it <code>origin</code> for you, pulls down all its data, creates a pointer to where its <code>master</code> branch is, and names it <code>origin/master</code> locally.
Git also gives you your own local <code>master</code> branch starting at the same place as origin&#8217;s <code>master</code> branch, so you have something to work from.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">&#8220;origin&#8221; is not special</div>
<div class="paragraph">
<p>Just like the branch name &#8220;master&#8221; does not have any special meaning in Git, neither does &#8220;origin&#8221;.
While &#8220;master&#8221; is the default name for a starting branch when you run <code>git init</code> which is the only reason it&#8217;s widely used, &#8220;origin&#8221; is the default name for a remote when you run <code>git clone</code>.
If you run <code>git clone -o booyah</code> instead, then you will have <code>booyah/master</code> as your default remote branch.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-1.png" alt="Server and local repositories after cloning.">
</div>
<div class="title">Figure 23. Server and local repositories after cloning</div>
</div>
<div class="paragraph">
<p>If you do some work on your local <code>master</code> branch, and, in the meantime, someone else pushes to <code>git.ourcompany.com</code> and updates its <code>master</code> branch, then your histories move forward differently.
Also, as long as you stay out of contact with your origin server, your <code>origin/master</code> pointer doesn&#8217;t move.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-2.png" alt="Local and remote work can diverge.">
</div>
<div class="title">Figure 24. Local and remote work can diverge</div>
</div>
<div class="paragraph">
<p>To synchronize your work, you run a <code>git fetch origin</code> command.
This command looks up which server &#8220;origin&#8221; is (in this case, it&#8217;s <code>git.ourcompany.com</code>), fetches any data from it that you don&#8217;t yet have, and updates your local database, moving your <code>origin/master</code> pointer to its new, more up-to-date position.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-3.png" alt="`git fetch` updates your remote references.">
</div>
<div class="title">Figure 25. <code>git fetch</code> updates your remote references</div>
</div>
<div class="paragraph">
<p>To demonstrate having multiple remote servers and what remote branches for those remote projects look like, let&#8217;s assume you have another internal Git server that is used only for development by one of your sprint teams.
This server is at <code>git.team1.ourcompany.com</code>.
You can add it as a new remote reference to the project you&#8217;re currently working on by running the <code>git remote add</code> command as we covered in <a href="#_git_basics_chapter">Git Basics</a>.
Name this remote <code>teamone</code>, which will be your shortname for that whole URL.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-4.png" alt="Adding another server as a remote.">
</div>
<div class="title">Figure 26. Adding another server as a remote</div>
</div>
<div class="paragraph">
<p>Now, you can run <code>git fetch teamone</code> to fetch everything the remote <code>teamone</code> server has that you don&#8217;t have yet.
Because that server has a subset of the data your <code>origin</code> server has right now, Git fetches no data but sets a remote-tracking branch called <code>teamone/master</code> to point to the commit that <code>teamone</code> has as its <code>master</code> branch.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remote-branches-5.png" alt="Remote tracking branch for `teamone/master`.">
</div>
<div class="title">Figure 27. Remote tracking branch for <code>teamone/master</code></div>
</div>
<div class="sect3">
<h4 id="_pushing_branches">Pushing</h4>
<div class="paragraph">
<p>
When you want to share a branch with the world, you need to push it up to a remote that you have write access to.
Your local branches aren&#8217;t automatically synchronized to the remotes you write to – you have to explicitly push the branches you want to share.
That way, you can use private branches for work you don&#8217;t want to share, and push up only the topic branches you want to collaborate on.</p>
</div>
<div class="paragraph">
<p>If you have a branch named <code>serverfix</code> that you want to work on with others, you can push it up the same way you pushed your first branch.
Run <code>git push &lt;remote&gt; &lt;branch&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin serverfix
Counting objects: 24, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (15/15), done.
Writing objects: 100% (24/24), 1.91 KiB | 0 bytes/s, done.
Total 24 (delta 2), reused 0 (delta 0)
To https://github.com/schacon/simplegit
 * [new branch]      serverfix -&gt; serverfix</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a bit of a shortcut.
Git automatically expands the <code>serverfix</code> branchname out to <code>refs/heads/serverfix:refs/heads/serverfix</code>, which means, &#8220;Take my serverfix local branch and push it to update the remote&#8217;s serverfix branch.&#8221;
We&#8217;ll go over the <code>refs/heads/</code> part in detail in <a href="#_git_internals">[_git_internals]</a>, but you can generally leave it off.
You can also do <code>git push origin serverfix:serverfix</code>, which does the same thing – it says, &#8220;Take my serverfix and make it the remote&#8217;s serverfix.&#8221;
You can use this format to push a local branch into a remote branch that is named differently.
If you didn&#8217;t want it to be called <code>serverfix</code> on the remote, you could instead run <code>git push origin serverfix:awesomebranch</code> to push your local <code>serverfix</code> branch to the <code>awesomebranch</code> branch on the remote project.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Don&#8217;t type your password every time</div>
<div class="paragraph">
<p>If you&#8217;re using an HTTPS URL to push over, the Git server will ask you for your username and password for authentication.
By default it will prompt you on the terminal for this information so the server can tell if you&#8217;re allowed to push.</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t want to type it every single time you push, you can set up a &#8220;credential cache&#8221;.
The simplest is just to keep it in memory for a few minutes, which you can easily set up by running <code>git config --global credential.helper cache</code>.</p>
</div>
<div class="paragraph">
<p>For more information on the various credential caching options available, see <a href="#_credential_caching">[_credential_caching]</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The next time one of your collaborators fetches from the server, they will get a reference to where the server&#8217;s version of <code>serverfix</code> is under the remote branch <code>origin/serverfix</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch origin
remote: Counting objects: 7, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 3 (delta 0)
Unpacking objects: 100% (3/3), done.
From https://github.com/schacon/simplegit
 * [new branch]      serverfix    -&gt; origin/serverfix</code></pre>
</div>
</div>
<div class="paragraph">
<p>It&#8217;s important to note that when you do a fetch that brings down new remote-tracking branches, you don&#8217;t automatically have local, editable copies of them.
In other words, in this case, you don&#8217;t have a new <code>serverfix</code> branch – you only have an <code>origin/serverfix</code> pointer that you can&#8217;t modify.</p>
</div>
<div class="paragraph">
<p>To merge this work into your current working branch, you can run <code>git merge origin/serverfix</code>.
If you want your own <code>serverfix</code> branch that you can work on, you can base it off your remote-tracking branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b serverfix origin/serverfix
Branch serverfix set up to track remote branch serverfix from origin.
Switched to a new branch 'serverfix'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This gives you a local branch that you can work on that starts where <code>origin/serverfix</code> is.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tracking_branches">Tracking Branches</h4>
<div class="paragraph">
<p>
Checking out a local branch from a remote-tracking branch automatically creates what is called a &#8220;tracking branch&#8221; (and the branch it tracks is called an &#8220;upstream branch&#8221;).
Tracking branches are local branches that have a direct relationship to a remote branch.
If you&#8217;re on a tracking branch and type <code>git pull</code>, Git automatically knows which server to fetch from and branch to merge into.</p>
</div>
<div class="paragraph">
<p>When you clone a repository, it generally automatically creates a <code>master</code> branch that tracks <code>origin/master</code>.
However, you can set up other tracking branches if you wish – ones that track branches on other remotes, or don&#8217;t track the <code>master</code> branch.
The simple case is the example you just saw, running <code>git checkout -b [branch] [remotename]/[branch]</code>.
This is a common enough operation that Git provides the <code>--track</code> shorthand:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout --track origin/serverfix
Branch serverfix set up to track remote branch serverfix from origin.
Switched to a new branch 'serverfix'</code></pre>
</div>
</div>
<div class="paragraph">
<p>In fact, this is so common that there&#8217;s even a shortcut for that shortcut. If the branch name you&#8217;re trying to checkout (a) doesn&#8217;t exist and (b) exactly matches a name on only one remote, Git will create a tracking branch for you:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout serverfix
Branch serverfix set up to track remote branch serverfix from origin.
Switched to a new branch 'serverfix'</code></pre>
</div>
</div>
<div class="paragraph">
<p>To set up a local branch with a different name than the remote branch, you can easily use the first version with a different local branch name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b sf origin/serverfix
Branch sf set up to track remote branch serverfix from origin.
Switched to a new branch 'sf'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, your local branch <code>sf</code> will automatically pull from <code>origin/serverfix</code>.</p>
</div>
<div class="paragraph">
<p>If you already have a local branch and want to set it to a remote branch you just pulled down, or want to change the upstream branch you&#8217;re tracking, you can use the <code>-u</code> or <code>--set-upstream-to</code> option to <code>git branch</code> to explicitly set it at any time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -u origin/serverfix
Branch serverfix set up to track remote branch serverfix from origin.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Upstream shorthand</div>
<div class="paragraph">
<p>When you have a tracking branch set up, you can reference its upstream branch with the <code>@{upstream}</code> or <code>@{u}</code> shorthand.
So if you&#8217;re on the <code>master</code> branch and it&#8217;s tracking <code>origin/master</code>, you can say something like <code>git merge @{u}</code> instead of <code>git merge origin/master</code> if you wish.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you want to see what tracking branches you have set up, you can use the <code>-vv</code> option to <code>git branch</code>.
This will list out your local branches with more information including what each branch is tracking and if your local branch is ahead, behind or both.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -vv
  iss53     7e424c3 [origin/iss53: ahead 2] forgot the brackets
  master    1ae2a45 [origin/master] deploying index fix
* serverfix f8674d9 [teamone/server-fix-good: ahead 3, behind 1] this should do it
  testing   5ea463a trying something new</code></pre>
</div>
</div>
<div class="paragraph">
<p>So here we can see that our <code>iss53</code> branch is tracking <code>origin/iss53</code> and is &#8220;ahead&#8221; by two, meaning that we have two commits locally that are not pushed to the server.
We can also see that our <code>master</code> branch is tracking <code>origin/master</code> and is up to date.
Next we can see that our <code>serverfix</code> branch is tracking the <code>server-fix-good</code> branch on our <code>teamone</code> server and is ahead by three and behind by one, meaning that there is one commit on the server we haven&#8217;t merged in yet and three commits locally that we haven&#8217;t pushed.
Finally we can see that our <code>testing</code> branch is not tracking any remote branch.</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to note that these numbers are only since the last time you fetched from each server.
This command does not reach out to the servers, it&#8217;s telling you about what it has cached from these servers locally.
If you want totally up to date ahead and behind numbers, you&#8217;ll need to fetch from all your remotes right before running this.
You could do that like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch --all; git branch -vv</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pulling">Pulling</h4>
<div class="paragraph">
<p>
While the <code>git fetch</code> command will fetch down all the changes on the server that you don&#8217;t have yet, it will not modify your working directory at all.
It will simply get the data for you and let you merge it yourself.
However, there is a command called <code>git pull</code> which is essentially a <code>git fetch</code> immediately followed by a <code>git merge</code> in most cases.
If you have a tracking branch set up as demonstrated in the last section, either by explicitly setting it or by having it created for you by the <code>clone</code> or <code>checkout</code> commands, <code>git pull</code> will look up what server and branch your current branch is tracking, fetch from that server and then try to merge in that remote branch.</p>
</div>
<div class="paragraph">
<p>Generally it&#8217;s better to simply use the <code>fetch</code> and <code>merge</code> commands explicitly as the magic of <code>git pull</code> can often be confusing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_delete_branches">Deleting Remote Branches</h4>
<div class="paragraph">
<p>
Suppose you&#8217;re done with a remote branch – say you and your collaborators are finished with a feature and have merged it into your remote&#8217;s <code>master</code> branch (or whatever branch your stable codeline is in).
You can delete a remote branch using the <code>--delete</code> option to <code>git push</code>.
If you want to delete your <code>serverfix</code> branch from the server, you run the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin --delete serverfix
To https://github.com/schacon/simplegit
 - [deleted]         serverfix</code></pre>
</div>
</div>
<div class="paragraph">
<p>Basically all this does is remove the pointer from the server.
The Git server will generally keep the data there for a while until a garbage collection runs, so if it was accidentally deleted, it&#8217;s often easy to recover.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rebasing">Rebasing</h3>
<div class="paragraph">
<p>
In Git, there are two main ways to integrate changes from one branch into another: the <code>merge</code> and the <code>rebase</code>.
In this section you&#8217;ll learn what rebasing is, how to do it, why it&#8217;s a pretty amazing tool, and in what cases you won&#8217;t want to use it.</p>
</div>
<div class="sect3">
<h4 id="_the_basic_rebase">The Basic Rebase</h4>
<div class="paragraph">
<p>If you go back to an earlier example from <a href="#_basic_merging">Basic Merging</a>, you can see that you diverged your work and made commits on two different branches.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-rebase-1.png" alt="Simple divergent history.">
</div>
<div class="title">Figure 28. Simple divergent history</div>
</div>
<div class="paragraph">
<p>The easiest way to integrate the branches, as we&#8217;ve already covered, is the <code>merge</code> command.
It performs a three-way merge between the two latest branch snapshots (<code>C3</code> and <code>C4</code>) and the most recent common ancestor of the two (<code>C2</code>), creating a new snapshot (and commit).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-rebase-2.png" alt="Merging to integrate diverged work history.">
</div>
<div class="title">Figure 29. Merging to integrate diverged work history</div>
</div>
<div class="paragraph">
<p>However, there is another way: you can take the patch of the change that was introduced in <code>C4</code> and reapply it on top of <code>C3</code>.
In Git, this is called <em>rebasing</em>.
With the <code>rebase</code> command, you can take all the changes that were committed on one branch and replay them on another one.</p>
</div>
<div class="paragraph">
<p>In this example, you&#8217;d run the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout experiment
$ git rebase master
First, rewinding head to replay your work on top of it...
Applying: added staged command</code></pre>
</div>
</div>
<div class="paragraph">
<p>It works by going to the common ancestor of the two branches (the one you&#8217;re on and the one you&#8217;re rebasing onto), getting the diff introduced by each commit of the branch you&#8217;re on, saving those diffs to temporary files, resetting the current branch to the same commit as the branch you are rebasing onto, and finally applying each change in turn.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-rebase-3.png" alt="Rebasing the change introduced in `C4` onto `C3`.">
</div>
<div class="title">Figure 30. Rebasing the change introduced in <code>C4</code> onto <code>C3</code></div>
</div>
<div class="paragraph">
<p>At this point, you can go back to the <code>master</code> branch and do a fast-forward merge.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge experiment</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/basic-rebase-4.png" alt="Fast-forwarding the master branch.">
</div>
<div class="title">Figure 31. Fast-forwarding the master branch</div>
</div>
<div class="paragraph">
<p>Now, the snapshot pointed to by <code>C4'</code> is exactly the same as the one that was pointed to by <code>C5</code> in the merge example.
There is no difference in the end product of the integration, but rebasing makes for a cleaner history.
If you examine the log of a rebased branch, it looks like a linear history: it appears that all the work happened in series, even when it originally happened in parallel.</p>
</div>
<div class="paragraph">
<p>Often, you&#8217;ll do this to make sure your commits apply cleanly on a remote branch – perhaps in a project to which you&#8217;re trying to contribute but that you don&#8217;t maintain.
In this case, you&#8217;d do your work in a branch and then rebase your work onto <code>origin/master</code> when you were ready to submit your patches to the main project.
That way, the maintainer doesn&#8217;t have to do any integration work – just a fast-forward or a clean apply.</p>
</div>
<div class="paragraph">
<p>Note that the snapshot pointed to by the final commit you end up with, whether it&#8217;s the last of the rebased commits for a rebase or the final merge commit after a merge, is the same snapshot – it&#8217;s only the history that is different.
Rebasing replays changes from one line of work onto another in the order they were introduced, whereas merging takes the endpoints and merges them together.</p>
</div>
</div>
<div class="sect3">
<h4 id="_more_interesting_rebases">More Interesting Rebases</h4>
<div class="paragraph">
<p>You can also have your rebase replay on something other than the rebase target branch.
Take a history like <a href="#rbdiag_e">A history with a topic branch off another topic branch</a>, for example.
You branched a topic branch (<code>server</code>) to add some server-side functionality to your project, and made a commit.
Then, you branched off that to make the client-side changes (<code>client</code>) and committed a few times.
Finally, you went back to your server branch and did a few more commits.</p>
</div>
<div id="rbdiag_e" class="imageblock">
<div class="content">
<img src="images/interesting-rebase-1.png" alt="A history with a topic branch off another topic branch.">
</div>
<div class="title">Figure 32. A history with a topic branch off another topic branch</div>
</div>
<div class="paragraph">
<p>Suppose you decide that you want to merge your client-side changes into your mainline for a release, but you want to hold off on the server-side changes until it&#8217;s tested further.
You can take the changes on client that aren&#8217;t on server (<code>C8</code> and <code>C9</code>) and replay them on your <code>master</code> branch by using the <code>--onto</code> option of <code>git rebase</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rebase --onto master server client</code></pre>
</div>
</div>
<div class="paragraph">
<p>This basically says, &#8220;Take the <code>client</code> branch, figure out the patches since it diverged from the <code>server</code> branch, and replay these patches in the <code>client</code> branch as if it was based directly off the <code>master</code> branch instead.&#8221;
It&#8217;s a bit complex, but the result is pretty cool.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/interesting-rebase-2.png" alt="Rebasing a topic branch off another topic branch.">
</div>
<div class="title">Figure 33. Rebasing a topic branch off another topic branch</div>
</div>
<div class="paragraph">
<p>Now you can fast-forward your <code>master</code> branch (see <a href="#rbdiag_g">Fast-forwarding your master branch to include the client branch changes</a>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge client</code></pre>
</div>
</div>
<div id="rbdiag_g" class="imageblock">
<div class="content">
<img src="images/interesting-rebase-3.png" alt="Fast-forwarding your master branch to include the client branch changes.">
</div>
<div class="title">Figure 34. Fast-forwarding your master branch to include the client branch changes</div>
</div>
<div class="paragraph">
<p>Let&#8217;s say you decide to pull in your server branch as well.
You can rebase the server branch onto the <code>master</code> branch without having to check it out first by running <code>git rebase [basebranch] [topicbranch]</code> – which checks out the topic branch (in this case, <code>server</code>) for you and replays it onto the base branch (<code>master</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rebase master server</code></pre>
</div>
</div>
<div class="paragraph">
<p>This replays your <code>server</code> work on top of your <code>master</code> work, as shown in <a href="#rbdiag_h">Rebasing your server branch on top of your master branch</a>.</p>
</div>
<div id="rbdiag_h" class="imageblock">
<div class="content">
<img src="images/interesting-rebase-4.png" alt="Rebasing your server branch on top of your master branch.">
</div>
<div class="title">Figure 35. Rebasing your server branch on top of your master branch</div>
</div>
<div class="paragraph">
<p>Then, you can fast-forward the base branch (<code>master</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge server</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can remove the <code>client</code> and <code>server</code> branches because all the work is integrated and you don&#8217;t need them anymore, leaving your history for this entire process looking like <a href="#rbdiag_i">Final commit history</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d client
$ git branch -d server</code></pre>
</div>
</div>
<div id="rbdiag_i" class="imageblock">
<div class="content">
<img src="images/interesting-rebase-5.png" alt="Final commit history.">
</div>
<div class="title">Figure 36. Final commit history</div>
</div>
</div>
<div class="sect3">
<h4 id="_rebase_peril">The Perils of Rebasing</h4>
<div class="paragraph">
<p>
Ahh, but the bliss of rebasing isn&#8217;t without its drawbacks, which can be summed up in a single line:</p>
</div>
<div class="paragraph">
<p><strong>Do not rebase commits that exist outside your repository.</strong></p>
</div>
<div class="paragraph">
<p>If you follow that guideline, you&#8217;ll be fine.
If you don&#8217;t, people will hate you, and you&#8217;ll be scorned by friends and family.</p>
</div>
<div class="paragraph">
<p>When you rebase stuff, you&#8217;re abandoning existing commits and creating new ones that are similar but different.
If you push commits somewhere and others pull them down and base work on them, and then you rewrite those commits with <code>git rebase</code> and push them up again, your collaborators will have to re-merge their work and things will get messy when you try to pull their work back into yours.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s look at an example of how rebasing work that you&#8217;ve made public can cause problems.
Suppose you clone from a central server and then do some work off that.
Your commit history looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-1.png" alt="Clone a repository, and base some work on it.">
</div>
<div class="title">Figure 37. Clone a repository, and base some work on it</div>
</div>
<div class="paragraph">
<p>Now, someone else does more work that includes a merge, and pushes that work to the central server.
You fetch it and merge the new remote branch into your work, making your history look something like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-2.png" alt="Fetch more commits, and merge them into your work.">
</div>
<div class="title">Figure 38. Fetch more commits, and merge them into your work</div>
</div>
<div class="paragraph">
<p>Next, the person who pushed the merged work decides to go back and rebase their work instead; they do a <code>git push --force</code> to overwrite the history on the server.
You then fetch from that server, bringing down the new commits.</p>
</div>
<div id="_pre_merge_rebase_work" class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-3.png" alt="Someone pushes rebased commits, abandoning commits you've based your work on.">
</div>
<div class="title">Figure 39. Someone pushes rebased commits, abandoning commits you&#8217;ve based your work on</div>
</div>
<div class="paragraph">
<p>Now you&#8217;re both in a pickle.
If you do a <code>git pull</code>, you&#8217;ll create a merge commit which includes both lines of history, and your repository will look like this:</p>
</div>
<div id="_merge_rebase_work" class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-4.png" alt="You merge in the same work again into a new merge commit.">
</div>
<div class="title">Figure 40. You merge in the same work again into a new merge commit</div>
</div>
<div class="paragraph">
<p>If you run a <code>git log</code> when your history looks like this, you&#8217;ll see two commits that have the same author, date, and message, which will be confusing.
Furthermore, if you push this history back up to the server, you&#8217;ll reintroduce all those rebased commits to the central server, which can further confuse people.
It&#8217;s pretty safe to assume that the other developer doesn&#8217;t want <code>C4</code> and <code>C6</code> to be in the history; that&#8217;s why they rebased in the first place.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rebase_rebase">Rebase When You Rebase</h4>
<div class="paragraph">
<p>If you <strong>do</strong> find yourself in a situation like this, Git has some further magic that might help you out.
If someone on your team force pushes changes that overwrite work that you&#8217;ve based work on, your challenge is to figure out what is yours and what they&#8217;ve rewritten.</p>
</div>
<div class="paragraph">
<p>It turns out that in addition to the commit SHA-1 checksum, Git also calculates a checksum that is based just on the patch introduced with the commit.
This is called a &#8220;patch-id&#8221;.</p>
</div>
<div class="paragraph">
<p>If you pull down work that was rewritten and rebase it on top of the new commits from your partner, Git can often successfully figure out what is uniquely yours and apply them back on top of the new branch.</p>
</div>
<div class="paragraph">
<p>For instance, in the previous scenario, if instead of doing a merge when we&#8217;re at <a href="#_pre_merge_rebase_work">Someone pushes rebased commits, abandoning commits you&#8217;ve based your work on</a> we run <code>git rebase teamone/master</code>, Git will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Determine what work is unique to our branch (C2, C3, C4, C6, C7)</p>
</li>
<li>
<p>Determine which are not merge commits (C2, C3, C4)</p>
</li>
<li>
<p>Determine which have not been rewritten into the target branch (just C2 and C3, since C4 is the same patch as C4')</p>
</li>
<li>
<p>Apply those commits to the top of <code>teamone/master</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>So instead of the result we see in <a href="#_merge_rebase_work">You merge in the same work again into a new merge commit</a>, we would end up with something more like <a href="#_rebase_rebase_work">Rebase on top of force-pushed rebase work.</a>.</p>
</div>
<div id="_rebase_rebase_work" class="imageblock">
<div class="content">
<img src="images/perils-of-rebasing-5.png" alt="Rebase on top of force-pushed rebase work.">
</div>
<div class="title">Figure 41. Rebase on top of force-pushed rebase work.</div>
</div>
<div class="paragraph">
<p>This only works if C4 and C4' that your partner made are almost exactly the same patch.
Otherwise the rebase won&#8217;t be able to tell that it&#8217;s a duplicate and will add another C4-like patch (which will probably fail to apply cleanly, since the changes would already be at least somewhat there).</p>
</div>
<div class="paragraph">
<p>You can also simplify this by running a <code>git pull --rebase</code> instead of a normal <code>git pull</code>.
Or you could do it manually with a <code>git fetch</code> followed by a <code>git rebase teamone/master</code> in this case.</p>
</div>
<div class="paragraph">
<p>If you are using <code>git pull</code> and want to make <code>--rebase</code> the default, you can set the <code>pull.rebase</code> config value with something like <code>git config --global pull.rebase true</code>.</p>
</div>
<div class="paragraph">
<p>If you treat rebasing as a way to clean up and work with commits before you push them, and if you only rebase commits that have never been available publicly, then you&#8217;ll be fine.
If you rebase commits that have already been pushed publicly, and people may have based work on those commits, then you may be in for some frustrating trouble, and the scorn of your teammates.</p>
</div>
<div class="paragraph">
<p>If you or a partner does find it necessary at some point, make sure everyone knows to run <code>git pull --rebase</code> to try to make the pain after it happens a little bit simpler.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rebase_vs_merge">Rebase vs. Merge</h4>
<div class="paragraph">
<p>
Now that you&#8217;ve seen rebasing and merging in action, you may be wondering which one is better.
Before we can answer this, let&#8217;s step back a bit and talk about what history means.</p>
</div>
<div class="paragraph">
<p>One point of view on this is that your repository&#8217;s commit history is a <strong>record of what actually happened.</strong>
It&#8217;s a historical document, valuable in its own right, and shouldn&#8217;t be tampered with.
From this angle, changing the commit history is almost blasphemous; you&#8217;re <em>lying</em> about what actually transpired.
So what if there was a messy series of merge commits?
That&#8217;s how it happened, and the repository should preserve that for posterity.</p>
</div>
<div class="paragraph">
<p>The opposing point of view is that the commit history is the <strong>story of how your project was made.</strong>
You wouldn&#8217;t publish the first draft of a book, and the manual for how to maintain your software deserves careful editing.
This is the camp that uses tools like rebase and filter-branch to tell the story in the way that&#8217;s best for future readers.</p>
</div>
<div class="paragraph">
<p>Now, to the question of whether merging or rebasing is better: hopefully you&#8217;ll see that it&#8217;s not that simple.
Git is a powerful tool, and allows you to do many things to and with your history, but every team and every project is different.
Now that you know how both of these things work, it&#8217;s up to you to decide which one is best for your particular situation.</p>
</div>
<div class="paragraph">
<p>In general the way to get the best of both worlds is to rebase local changes you&#8217;ve made but haven&#8217;t shared yet before you push them in order to clean up your story, but never rebase anything you&#8217;ve pushed somewhere.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary_3">Summary</h3>
<div class="paragraph">
<p>We&#8217;ve covered basic branching and merging in Git.
You should feel comfortable creating and switching to new branches, switching between branches and merging local branches together.
You should also be able to share your branches by pushing them to a shared server, working with others on shared branches and rebasing your branches before they are shared.
Next, we&#8217;ll cover what you&#8217;ll need to run your own Git repository-hosting server.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_on_the_server">Git on the Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
At this point, you should be able to do most of the day-to-day tasks for which you&#8217;ll be using Git.
However, in order to do any collaboration in Git, you&#8217;ll need to have a remote Git repository.
Although you can technically push changes to and pull changes from individuals' repositories, doing so is discouraged because you can fairly easily confuse what they&#8217;re working on if you&#8217;re not careful.
Furthermore, you want your collaborators to be able to access the repository even if your computer is offline – having a more reliable common repository is often useful.
Therefore, the preferred method for collaborating with someone is to set up an intermediate repository that you both have access to, and push to and pull from that.</p>
</div>
<div class="paragraph">
<p>Running a Git server is fairly straightforward.
First, you choose which protocols you want your server to communicate with.
The first section of this chapter will cover the available protocols and the pros and cons of each.
The next sections will explain some typical setups using those protocols and how to get your server running with them.
Last, we&#8217;ll go over a few hosted options, if you don&#8217;t mind hosting your code on someone else&#8217;s server and don&#8217;t want to go through the hassle of setting up and maintaining your own server.</p>
</div>
<div class="paragraph">
<p>If you have no interest in running your own server, you can skip to the last section of the chapter to see some options for setting up a hosted account and then move on to the next chapter, where we discuss the various ins and outs of working in a distributed source control environment.</p>
</div>
<div class="paragraph">
<p>A remote repository is generally a <em>bare repository</em> – a Git repository that has no working directory.
Because the repository is only used as a collaboration point, there is no reason to have a snapshot checked out on disk; it&#8217;s just the Git data.
In the simplest terms, a bare repository is the contents of your project&#8217;s <code>.git</code> directory and nothing else.</p>
</div>
<div class="sect2">
<h3 id="_the_protocols">The Protocols</h3>
<div class="paragraph">
<p>Git can use four major protocols to transfer data: Local, HTTP, Secure Shell (SSH) and Git.
Here we&#8217;ll discuss what they are and in what basic circumstances you would want (or not want) to use them.</p>
</div>
<div class="sect3">
<h4 id="_local_protocol">Local Protocol</h4>
<div class="paragraph">
<p>
The most basic is the <em>Local protocol</em>, in which the remote repository is in another directory on disk.
This is often used if everyone on your team has access to a shared filesystem such as an NFS mount, or in the less likely case that everyone logs in to the same computer.
The latter wouldn&#8217;t be ideal, because all your code repository instances would reside on the same computer, making a catastrophic loss much more likely.</p>
</div>
<div class="paragraph">
<p>If you have a shared mounted filesystem, then you can clone, push to, and pull from a local file-based repository.
To clone a repository like this or to add one as a remote to an existing project, use the path to the repository as the URL.
For example, to clone a local repository, you can run something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone /srv/git/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone file:///srv/git/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git operates slightly differently if you explicitly specify <code>file://</code> at the beginning of the URL.
If you just specify the path, Git tries to use hardlinks or directly copy the files it needs.
If you specify <code>file://</code>, Git fires up the processes that it normally uses to transfer data over a network which is generally a lot less efficient method of transferring the data.
The main reason to specify the <code>file://</code> prefix is if you want a clean copy of the repository with extraneous references or objects left out – generally after an import from another version-control system or something similar (see <a href="#_git_internals">[_git_internals]</a> for maintenance tasks).
We&#8217;ll use the normal path here because doing so is almost always faster.</p>
</div>
<div class="paragraph">
<p>To add a local repository to an existing Git project, you can run something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote add local_proj /srv/git/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, you can push to and pull from that remote as though you were doing so over a network.</p>
</div>
<div class="sect4">
<h5 id="_the_pros">The Pros</h5>
<div class="paragraph">
<p>The pros of file-based repositories are that they&#8217;re simple and they use existing file permissions and network access.
If you already have a shared filesystem to which your whole team has access, setting up a repository is very easy.
You stick the bare repository copy somewhere everyone has shared access to and set the read/write permissions as you would for any other shared directory.
We&#8217;ll discuss how to export a bare repository copy for this purpose in <a href="#_git_on_the_server">Git on the Server</a>.</p>
</div>
<div class="paragraph">
<p>This is also a nice option for quickly grabbing work from someone else&#8217;s working repository.
If you and a co-worker are working on the same project and they want you to check something out, running a command like <code>git pull /home/john/project</code> is often easier than them pushing to a remote server and you pulling down.</p>
</div>
</div>
<div class="sect4">
<h5 id="_the_cons">The Cons</h5>
<div class="paragraph">
<p>The cons of this method are that shared access is generally more difficult to set up and reach from multiple locations than basic network access.
If you want to push from your laptop when you&#8217;re at home, you have to mount the remote disk, which can be difficult and slow compared to network-based access.</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to mention that this isn&#8217;t necessarily the fastest option if you&#8217;re using a shared mount of some kind.
A local repository is fast only if you have fast access to the data.
A repository on NFS is often slower than the repository over SSH on the same server, allowing Git to run off local disks on each system.</p>
</div>
<div class="paragraph">
<p>Finally, this protocol does not protect the repository against accidental damage.
Every user has full shell access to the "remote" directory, and there is nothing preventing them from changing or removing internal Git files and corrupting the repository.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_http_protocols">The HTTP Protocols</h4>
<div class="paragraph">
<p>Git can communicate over HTTP in two different modes.
Prior to Git 1.6.6 there was only one way it could do this which was very simple and generally read-only.
In version 1.6.6 a new, smarter protocol was introduced that involved Git being able to intelligently negotiate data transfer in a manner similar to how it does over SSH.
In the last few years, this new HTTP protocol has become very popular since it&#8217;s simpler for the user and smarter about how it communicates.
The newer version is often referred to as the &#8220;Smart&#8221; HTTP protocol and the older way as &#8220;Dumb&#8221; HTTP.
We&#8217;ll cover the newer &#8220;smart&#8221; HTTP protocol first.</p>
</div>
<div class="sect4">
<h5 id="_smart_http">Smart HTTP</h5>
<div class="paragraph">
<p>
The &#8220;smart&#8221; HTTP protocol operates very similarly to the SSH or Git protocols but runs over standard HTTP/S ports and can use various HTTP authentication mechanisms, meaning it&#8217;s often easier on the user than something like SSH, since you can use things like username/password authentication rather than having to set up SSH keys.</p>
</div>
<div class="paragraph">
<p>It has probably become the most popular way to use Git now, since it can be set up to both serve anonymously like the <code>git://</code> protocol, and can also be pushed over with authentication and encryption like the SSH protocol.
Instead of having to set up different URLs for these things, you can now use a single URL for both.
If you try to push and the repository requires authentication (which it normally should), the server can prompt for a username and password.
The same goes for read access.</p>
</div>
<div class="paragraph">
<p>In fact, for services like GitHub, the URL you use to view the repository online (for example, &#8220;<a href="https://github.com/schacon/simplegit" class="bare">https://github.com/schacon/simplegit</a>&#8221;) is the same URL you can use to clone and, if you have access, push over.</p>
</div>
</div>
<div class="sect4">
<h5 id="_dumb_http">Dumb HTTP</h5>
<div class="paragraph">
<p>
If the server does not respond with a Git HTTP smart service, the Git client will try to fall back to the simpler &#8220;dumb&#8221; HTTP protocol.
The Dumb protocol expects the bare Git repository to be served like normal files from the web server.
The beauty of the Dumb HTTP protocol is the simplicity of setting it up.
Basically, all you have to do is put a bare Git repository under your HTTP document root and set up a specific <code>post-update</code> hook, and you&#8217;re done (See <a href="#_git_hooks">[_git_hooks]</a>).
At that point, anyone who can access the web server under which you put the repository can also clone your repository.
To allow read access to your repository over HTTP, do something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /var/www/htdocs/
$ git clone --bare /path/to/git_project gitproject.git
$ cd gitproject.git
$ mv hooks/post-update.sample hooks/post-update
$ chmod a+x hooks/post-update</code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s all.
The <code>post-update</code> hook that comes with Git by default runs the appropriate command (<code>git update-server-info</code>) to make HTTP fetching and cloning work properly.
This command is run when you push to this repository (over SSH perhaps); then, other people can clone via something like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://example.com/gitproject.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this particular case, we&#8217;re using the <code>/var/www/htdocs</code> path that is common for Apache setups, but you can use any static web server – just put the bare repository in its path.
The Git data is served as basic static files (see <a href="#_git_internals">[_git_internals]</a> for details about exactly how it&#8217;s served).</p>
</div>
<div class="paragraph">
<p>Generally you would either choose to run a read/write Smart HTTP server or simply have the files accessible as read-only in the Dumb manner.
It&#8217;s rare to run a mix of the two services.</p>
</div>
</div>
<div class="sect4">
<h5 id="_the_pros_2">The Pros</h5>
<div class="paragraph">
<p>We&#8217;ll concentrate on the pros of the Smart version of the HTTP protocol.</p>
</div>
<div class="paragraph">
<p>The simplicity of having a single URL for all types of access and having the server prompt only when authentication is needed makes things very easy for the end user.
Being able to authenticate with a username and password is also a big advantage over SSH, since users don&#8217;t have to generate SSH keys locally and upload their public key to the server before being able to interact with it.
For less sophisticated users, or users on systems where SSH is less common, this is a major advantage in usability.
It is also a very fast and efficient protocol, similar to the SSH one.</p>
</div>
<div class="paragraph">
<p>You can also serve your repositories read-only over HTTPS, which means you can encrypt the content transfer; or you can go so far as to make the clients use specific signed SSL certificates.</p>
</div>
<div class="paragraph">
<p>Another nice thing is that HTTP/S are such commonly used protocols that corporate firewalls are often set up to allow traffic through these ports.</p>
</div>
</div>
<div class="sect4">
<h5 id="_the_cons_2">The Cons</h5>
<div class="paragraph">
<p>Git over HTTP/S can be a little more tricky to set up compared to SSH on some servers.
Other than that, there is very little advantage that other protocols have over the &#8220;Smart&#8221; HTTP protocol for serving Git.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re using HTTP for authenticated pushing, providing your credentials is sometimes more complicated than using keys over SSH.
There are however several credential caching tools you can use, including Keychain access on OSX and Credential Manager on Windows, to make this pretty painless.
Read <a href="#_credential_caching">[_credential_caching]</a> to see how to set up secure HTTP password caching on your system.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_ssh_protocol">The SSH Protocol</h4>
<div class="paragraph">
<p>
A common transport protocol for Git when self-hosting is over SSH.
This is because SSH access to servers is already set up in most places – and if it isn&#8217;t, it&#8217;s easy to do.
SSH is also an authenticated network protocol; and because it&#8217;s ubiquitous, it&#8217;s generally easy to set up and use.</p>
</div>
<div class="paragraph">
<p>To clone a Git repository over SSH, you can specify ssh:// URL like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone ssh://user@server/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can use the shorter scp-like syntax for the SSH protocol:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone user@server:project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also not specify a user, and Git assumes the user you&#8217;re currently logged in as.</p>
</div>
<div class="sect4">
<h5 id="_the_pros_3">The Pros</h5>
<div class="paragraph">
<p>The pros of using SSH are many.
First, SSH is relatively easy to set up – SSH daemons are commonplace, many network admins have experience with them, and many OS distributions are set up with them or have tools to manage them.
Next, access over SSH is secure – all data transfer is encrypted and authenticated.
Last, like the HTTP/S, Git and Local protocols, SSH is efficient, making the data as compact as possible before transferring it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_the_cons_3">The Cons</h5>
<div class="paragraph">
<p>The negative aspect of SSH is that you can&#8217;t serve anonymous access of your repository over it.
People must have access to your machine over SSH to access it, even in a read-only capacity, which doesn&#8217;t make SSH access conducive to open source projects.
If you&#8217;re using it only within your corporate network, SSH may be the only protocol you need to deal with.
If you want to allow anonymous read-only access to your projects and also want to use SSH, you’ll have to set up SSH for you to push over but something else for others to fetch over.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_git_protocol">The Git Protocol</h4>
<div class="paragraph">
<p>
Next is the Git protocol.
This is a special daemon that comes packaged with Git; it listens on a dedicated port (9418) that provides a service similar to the SSH protocol, but with absolutely no authentication.
In order for a repository to be served over the Git protocol, you must create the <code>git-daemon-export-ok</code> file – the daemon won&#8217;t serve a repository without that file in it – but other than that there is no security.
Either the Git repository is available for everyone to clone or it isn&#8217;t.
This means that there is generally no pushing over this protocol.
You can enable push access; but given the lack of authentication, if you turn on push access, anyone on the internet who finds your project&#8217;s URL could push to your project.
Suffice it to say that this is rare.</p>
</div>
<div class="sect4">
<h5 id="_the_pros_4">The Pros</h5>
<div class="paragraph">
<p>The Git protocol is often the fastest network transfer protocol available.
If you’re serving a lot of traffic for a public project or serving a very large project that doesn&#8217;t require user authentication for read access, it’s likely that you&#8217;ll want to set up a Git daemon to serve your project.
It uses the same data-transfer mechanism as the SSH protocol but without the encryption and authentication overhead.</p>
</div>
</div>
<div class="sect4">
<h5 id="_the_cons_4">The Cons</h5>
<div class="paragraph">
<p>The downside of the Git protocol is the lack of authentication.
It&#8217;s generally undesirable for the Git protocol to be the only access to your project.
Generally, you&#8217;ll pair it with SSH or HTTPS access for the few developers who have push (write) access and have everyone else use <code>git://</code> for read-only access.
It&#8217;s also probably the most difficult protocol to set up.
It must run its own daemon, which requires <code>xinetd</code> configuration or the like, which isn&#8217;t always a walk in the park.
It also requires firewall access to port 9418, which isn&#8217;t a standard port that corporate firewalls always allow.
Behind big corporate firewalls, this obscure port is commonly blocked.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_on_the_server">Getting Git on a Server</h3>
<div class="paragraph">
<p>Now we&#8217;ll cover setting up a Git service running these protocols on your own server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Here we&#8217;ll be demonstrating the commands and steps needed to do basic, simplified installations on a Linux based server, though it&#8217;s also possible to run these services on Mac or Windows servers.
Actually setting up a production server within your infrastructure will certainly entail differences in security measures or operating system tools, but hopefully this will give you the general idea of what&#8217;s involved.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In order to initially set up any Git server, you have to export an existing repository into a new bare repository – a repository that doesn&#8217;t contain a working directory.
This is generally straightforward to do.
In order to clone your repository to create a new bare repository, you run the clone command with the <code>--bare</code> option.
By convention, bare repository directories end in <code>.git</code>, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone --bare my_project my_project.git
Cloning into bare repository 'my_project.git'...
done.</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should now have a copy of the Git directory data in your <code>my_project.git</code> directory.</p>
</div>
<div class="paragraph">
<p>This is roughly equivalent to something like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cp -Rf my_project/.git my_project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are a couple of minor differences in the configuration file; but for your purpose, this is close to the same thing.
It takes the Git repository by itself, without a working directory, and creates a directory specifically for it alone.</p>
</div>
<div class="sect3">
<h4 id="_bare_repo">Putting the Bare Repository on a Server</h4>
<div class="paragraph">
<p>Now that you have a bare copy of your repository, all you need to do is put it on a server and set up your protocols.
Let&#8217;s say you&#8217;ve set up a server called <code>git.example.com</code> that you have SSH access to, and you want to store all your Git repositories under the <code>/srv/git</code> directory.
Assuming that <code>/srv/git</code> exists on that server, you can set up your new repository by copying your bare repository over:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ scp -r my_project.git user@git.example.com:/srv/git</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point, other users who have SSH access to the same server which has read-access to the <code>/srv/git</code> directory can clone your repository by running</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone user@git.example.com:/srv/git/my_project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a user SSHs into a server and has write access to the <code>/srv/git/my_project.git</code> directory, they will also automatically have push access.</p>
</div>
<div class="paragraph">
<p>Git will automatically add group write permissions to a repository properly if you run the <code>git init</code> command with the <code>--shared</code> option.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh user@git.example.com
$ cd /srv/git/my_project.git
$ git init --bare --shared</code></pre>
</div>
</div>
<div class="paragraph">
<p>You see how easy it is to take a Git repository, create a bare version, and place it on a server to which you and your collaborators have SSH access.
Now you&#8217;re ready to collaborate on the same project.</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to note that this is literally all you need to do to run a useful Git server to which several people have access – just add SSH-able accounts on a server, and stick a bare repository somewhere that all those users have read and write access to.
You&#8217;re ready to go – nothing else needed.</p>
</div>
<div class="paragraph">
<p>In the next few sections, you&#8217;ll see how to expand to more sophisticated setups.
This discussion will include not having to create user accounts for each user, adding public read access to repositories, setting up web UIs and more.
However, keep in mind that to collaborate with a couple of people on a private project, all you <em>need</em> is an SSH server and a bare repository.</p>
</div>
</div>
<div class="sect3">
<h4 id="_small_setups">Small Setups</h4>
<div class="paragraph">
<p>If you&#8217;re a small outfit or are just trying out Git in your organization and have only a few developers, things can be simple for you.
One of the most complicated aspects of setting up a Git server is user management.
If you want some repositories to be read-only to certain users and read/write to others, access and permissions can be a bit more difficult to arrange.</p>
</div>
<div class="sect4">
<h5 id="_ssh_access">SSH Access</h5>
<div class="paragraph">
<p>
If you have a server to which all your developers already have SSH access, it&#8217;s generally easiest to set up your first repository there, because you have to do almost no work (as we covered in the last section).
If you want more complex access control type permissions on your repositories, you can handle them with the normal filesystem permissions of the operating system your server runs.</p>
</div>
<div class="paragraph">
<p>If you want to place your repositories on a server that doesn&#8217;t have accounts for everyone on your team whom you want to have write access, then you must set up SSH access for them.
We assume that if you have a server with which to do this, you already have an SSH server installed, and that&#8217;s how you&#8217;re accessing the server.</p>
</div>
<div class="paragraph">
<p>There are a few ways you can give access to everyone on your team.
The first is to set up accounts for everybody, which is straightforward but can be cumbersome.
You may not want to run <code>adduser</code> and set temporary passwords for every user.</p>
</div>
<div class="paragraph">
<p>A second method is to create a single <em>git</em> user on the machine, ask every user who is to have write access to send you an SSH public key, and add that key to the <code>~/.ssh/authorized_keys</code> file of your new <em>git</em> user.
At that point, everyone will be able to access that machine via the <em>git</em> user.
This doesn&#8217;t affect the commit data in any way – the SSH user you connect as doesn&#8217;t affect the commits you&#8217;ve recorded.</p>
</div>
<div class="paragraph">
<p>Another way to do it is to have your SSH server authenticate from an LDAP server or some other centralized authentication source that you may already have set up.
As long as each user can get shell access on the machine, any SSH authentication mechanism you can think of should work.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_generate_ssh_key">Generating Your SSH Public Key</h3>
<div class="paragraph">
<p>
That being said, many Git servers authenticate using SSH public keys.
In order to provide a public key, each user in your system must generate one if they don&#8217;t already have one.
This process is similar across all operating systems.
First, you should check to make sure you don&#8217;t already have a key.
By default, a user&#8217;s SSH keys are stored in that user&#8217;s <code>~/.ssh</code> directory.
You can easily check to see if you have a key already by going to that directory and listing the contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~/.ssh
$ ls
authorized_keys2  id_dsa       known_hosts
config            id_dsa.pub</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;re looking for a pair of files named something like <code>id_dsa</code> or <code>id_rsa</code> and a matching file with a <code>.pub</code> extension.
The <code>.pub</code> file is your public key, and the other file is your private key.
If you don&#8217;t have these files (or you don&#8217;t even have a <code>.ssh</code> directory), you can create them by running a program called <code>ssh-keygen</code>, which is provided with the SSH package on Linux/Mac systems and comes with Git for Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/schacon/.ssh/id_rsa):
Created directory '/home/schacon/.ssh'.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/schacon/.ssh/id_rsa.
Your public key has been saved in /home/schacon/.ssh/id_rsa.pub.
The key fingerprint is:
d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local</code></pre>
</div>
</div>
<div class="paragraph">
<p>First it confirms where you want to save the key (<code>.ssh/id_rsa</code>), and then it asks twice for a passphrase, which you can leave empty if you don&#8217;t want to type a password when you use the key.</p>
</div>
<div class="paragraph">
<p>Now, each user that does this has to send their public key to you or whoever is administrating the Git server (assuming you&#8217;re using an SSH server setup that requires public keys).
All they have to do is copy the contents of the <code>.pub</code> file and email it.
The public keys look something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
NrRFi9wrf+M7Q== schacon@mylaptop.local</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a more in-depth tutorial on creating an SSH key on multiple operating systems, see the GitHub guide on SSH keys at <a href="https://help.github.com/articles/generating-ssh-keys" class="bare">https://help.github.com/articles/generating-ssh-keys</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_server">Setting Up the Server</h3>
<div class="paragraph">
<p>Let&#8217;s walk through setting up SSH access on the server side.
In this example, you&#8217;ll use the <code>authorized_keys</code> method for authenticating your users.
We also assume you&#8217;re running a standard Linux distribution like Ubuntu.
First, you create a <code>git</code> user and a <code>.ssh</code> directory for that user.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo adduser git
$ su git
$ cd
$ mkdir .ssh &amp;&amp; chmod 700 .ssh
$ touch .ssh/authorized_keys &amp;&amp; chmod 600 .ssh/authorized_keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, you need to add some developer SSH public keys to the <code>authorized_keys</code> file for the <code>git</code> user.
Let&#8217;s assume you have some trusted public keys and have saved them to temporary files.
Again, the public keys look something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /tmp/id_rsa.john.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCB007n/ww+ouN4gSLKssMxXnBOvf9LGt4L
ojG6rs6hPB09j9R/T17/x4lhJA0F3FR1rP6kYBRsWj2aThGw6HXLm9/5zytK6Ztg3RPKK+4k
Yjh6541NYsnEAZuXz0jTTyAUfrtU3Z5E003C4oxOj6H0rfIF1kKI9MAQLMdpGW1GYEIgS9Ez
Sdfd8AcCIicTDWbqLAcU4UpkaX8KyGlLwsNuuGztobF8m72ALC/nLF6JLtPofwFBlgc+myiv
O7TCUSBdLQlgMVOFq1I2uPWQOkOWQAHukEOmfjy2jctxSDBQ220ymjaNsHT4kgtZg2AYYgPq
dAv8JggJICUvax2T9va5 gsg-keypair</code></pre>
</div>
</div>
<div class="paragraph">
<p>You just append them to the <code>git</code> user&#8217;s <code>authorized_keys</code> file in its <code>.ssh</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /tmp/id_rsa.john.pub &gt;&gt; ~/.ssh/authorized_keys
$ cat /tmp/id_rsa.josie.pub &gt;&gt; ~/.ssh/authorized_keys
$ cat /tmp/id_rsa.jessica.pub &gt;&gt; ~/.ssh/authorized_keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, you can set up an empty repository for them by running <code>git init</code> with the <code>--bare</code> option, which initializes the repository without a working directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /srv/git
$ mkdir project.git
$ cd project.git
$ git init --bare
Initialized empty Git repository in /srv/git/project.git/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, John, Josie, or Jessica can push the first version of their project into that repository by adding it as a remote and pushing up a branch.
Note that someone must shell onto the machine and create a bare repository every time you want to add a project.
Let&#8217;s use <code>gitserver</code> as the hostname of the server on which you&#8217;ve set up your <code>git</code> user and repository.
If you&#8217;re running it internally, and you set up DNS for <code>gitserver</code> to point to that server, then you can use the commands pretty much as is (assuming that <code>myproject</code> is an existing project with files in it):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># on John's computer
$ cd myproject
$ git init
$ git add .
$ git commit -m 'initial commit'
$ git remote add origin git@gitserver:/srv/git/project.git
$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point, the others can clone it down and push changes back up just as easily:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone git@gitserver:/srv/git/project.git
$ cd project
$ vim README
$ git commit -am 'fix for the README file'
$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this method, you can quickly get a read/write Git server up and running for a handful of developers.</p>
</div>
<div class="paragraph">
<p>You should note that currently all these users can also log into the server and get a shell as the <code>git</code> user.
If you want to restrict that, you will have to change the shell to something else in the <code>passwd</code> file.</p>
</div>
<div class="paragraph">
<p>You can easily restrict the <code>git</code> user to only doing Git activities with a limited shell tool called <code>git-shell</code> that comes with Git.
If you set this as your <code>git</code> user&#8217;s login shell, then the <code>git</code> user can&#8217;t have normal shell access to your server.
To use this, specify <code>git-shell</code> instead of bash or csh for your user&#8217;s login shell.
To do so, you must first add <code>git-shell</code> to <code>/etc/shells</code> if it&#8217;s not already there:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /etc/shells   # see if `git-shell` is already in there.  If not...
$ which git-shell   # make sure git-shell is installed on your system.
$ sudo vim /etc/shells  # and add the path to git-shell from last command</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can edit the shell for a user using <code>chsh &lt;username&gt; -s &lt;shell&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo chsh git -s $(which git-shell)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, the <code>git</code> user can only use the SSH connection to push and pull Git repositories and can&#8217;t shell onto the machine.
If you try, you&#8217;ll see a login rejection like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh git@gitserver
fatal: Interactive git shell is not enabled.
hint: ~/git-shell-commands should exist and have read and execute access.
Connection to gitserver closed.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now Git network commands will still work just fine but the users won&#8217;t be able to get a shell.
As the output states, you can also set up a directory in the <code>git</code> user&#8217;s home directory that customizes the <code>git-shell</code> command a bit.
For instance, you can restrict the Git commands that the server will accept or you can customize the message that users see if they try to SSH in like that.
Run <code>git help shell</code> for more information on customizing the shell.</p>
</div>
</div>
<div class="sect2">
<h3 id="_git_daemon">Git Daemon</h3>
<div class="paragraph">
<p>
Next we&#8217;ll set up a daemon serving repositories over the &#8220;Git&#8221; protocol.
This is common choice for fast, unauthenticated access to your Git data.
Remember that since it&#8217;s not an authenticated service, anything you serve over this protocol is public within its network.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re running this on a server outside your firewall, it should only be used for projects that are publicly visible to the world.
If the server you&#8217;re running it on is inside your firewall, you might use it for projects that a large number of people or computers (continuous integration or build servers) have read-only access to, when you don&#8217;t want to have to add an SSH key for each.</p>
</div>
<div class="paragraph">
<p>In any case, the Git protocol is relatively easy to set up.
Basically, you need to run this command in a daemonized manner:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git daemon --reuseaddr --base-path=/srv/git/ /srv/git/</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>--reuseaddr</code> allows the server to restart without waiting for old connections to time out, the <code>--base-path</code> option allows people to clone projects without specifying the entire path, and the path at the end tells the Git daemon where to look for repositories to export.
If you&#8217;re running a firewall, you&#8217;ll also need to punch a hole in it at port 9418 on the box you&#8217;re setting this up on.</p>
</div>
<div class="paragraph">
<p>You can daemonize this process a number of ways, depending on the operating system you&#8217;re running.
On an Ubuntu machine, you can use an Upstart script.
So, in the following file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">/etc/init/local-git-daemon.conf</code></pre>
</div>
</div>
<div class="paragraph">
<p>you put this script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">start on startup
stop on shutdown
exec /usr/bin/git daemon \
    --user=git --group=git \
    --reuseaddr \
    --base-path=/srv/git/ \
    /srv/git/
respawn</code></pre>
</div>
</div>
<div class="paragraph">
<p>For security reasons, it is strongly encouraged to have this daemon run as a user with read-only permissions to the repositories – you can easily do this by creating a new user <em>git-ro</em> and running the daemon as them.
For the sake of simplicity we&#8217;ll simply run it as the same <em>git</em> user that <code>git-shell</code> is running as.</p>
</div>
<div class="paragraph">
<p>When you restart your machine, your Git daemon will start automatically and respawn if it goes down.
To get it running without having to reboot, you can run this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ initctl start local-git-daemon</code></pre>
</div>
</div>
<div class="paragraph">
<p>On other systems, you may want to use <code>xinetd</code>, a script in your <code>sysvinit</code> system, or something else – as long as you get that command daemonized and watched somehow.</p>
</div>
<div class="paragraph">
<p>Next, you have to tell Git which repositories to allow unauthenticated Git server-based access to.
You can do this in each repository by creating a file named <code>git-daemon-export-ok</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /path/to/project.git
$ touch git-daemon-export-ok</code></pre>
</div>
</div>
<div class="paragraph">
<p>The presence of that file tells Git that it&#8217;s OK to serve this project without authentication.</p>
</div>
</div>
<div class="sect2">
<h3 id="_smart_http_2">Smart HTTP</h3>
<div class="paragraph">
<p>
We now have authenticated access through SSH and unauthenticated access through <code>git://</code>, but there is also a protocol that can do both at the same time.
Setting up Smart HTTP is basically just enabling a CGI script that is provided with Git called <code>git-http-backend</code> on the server.
This CGI will read the path and headers sent by a <code>git fetch</code> or <code>git push</code> to an HTTP URL and determine if the client can communicate over HTTP (which is true for any client since version 1.6.6).
If the CGI sees that the client is smart, it will communicate smartly with it, otherwise it will fall back to the dumb behavior (so it is backward compatible for reads with older clients).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s walk through a very basic setup.
We&#8217;ll set this up with Apache as the CGI server.
If you don&#8217;t have Apache setup, you can do so on a Linux box with something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt-get install apache2 apache2-utils
$ a2enmod cgi alias env</code></pre>
</div>
</div>
<div class="paragraph">
<p>This also enables the <code>mod_cgi</code>, <code>mod_alias</code>, and <code>mod_env</code> modules, which are all needed for this to work properly.</p>
</div>
<div class="paragraph">
<p>You’ll also need to set the Unix user group of the <code>/srv/git</code> directories to <code>www-data</code> so your web server can read- and write-access the repositories, because the Apache instance running the CGI script will (by default) be running as that user:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ chgrp -R www-data /srv/git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we need to add some things to the Apache configuration to run the <code>git-http-backend</code> as the handler for anything coming into the <code>/git</code> path of your web server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">SetEnv GIT_PROJECT_ROOT /srv/git
SetEnv GIT_HTTP_EXPORT_ALL
ScriptAlias /git/ /usr/lib/git-core/git-http-backend/</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you leave out <code>GIT_HTTP_EXPORT_ALL</code> environment variable, then Git will only serve to unauthenticated clients the repositories with the <code>git-daemon-export-ok</code> file in them, just like the Git daemon did.</p>
</div>
<div class="paragraph">
<p>Finally you&#8217;ll want to tell Apache to allow requests to <code>git-http-backend</code> and make writes be authenticated somehow, possibly with an Auth block like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">&lt;Files "git-http-backend"&gt;
    AuthType Basic
    AuthName "Git Access"
    AuthUserFile /srv/git/.htpasswd
    Require expr !(%{QUERY_STRING} -strmatch '*service=git-receive-pack*' || %{REQUEST_URI} =~ m#/git-receive-pack$#)
    Require valid-user
&lt;/Files&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>That will require you to create a <code>.htpasswd</code> file containing the passwords of all the valid users.
Here is an example of adding a &#8220;schacon&#8221; user to the file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ htpasswd -c /srv/git/.htpasswd schacon</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are tons of ways to have Apache authenticate users, you&#8217;ll have to choose and implement one of them.
This is just the simplest example we could come up with.
You&#8217;ll also almost certainly want to set this up over SSL so all this data is encrypted.</p>
</div>
<div class="paragraph">
<p>We don&#8217;t want to go too far down the rabbit hole of Apache configuration specifics, since you could well be using a different server or have different authentication needs.
The idea is that Git comes with a CGI called <code>git-http-backend</code> that when invoked will do all the negotiation to send and receive data over HTTP.
It does not implement any authentication itself, but that can easily be controlled at the layer of the web server that invokes it.
You can do this with nearly any CGI-capable web server, so go with the one that you know best.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>For more information on configuring authentication in Apache, check out the Apache docs here: <a href="http://httpd.apache.org/docs/current/howto/auth.html" class="bare">http://httpd.apache.org/docs/current/howto/auth.html</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_gitweb">GitWeb</h3>
<div class="paragraph">
<p>
Now that you have basic read/write and read-only access to your project, you may want to set up a simple web-based visualizer.
Git comes with a CGI script called GitWeb that is sometimes used for this.</p>
</div>
<div id="gitweb" class="imageblock">
<div class="content">
<img src="images/git-instaweb.png" alt="The GitWeb web-based user interface.">
</div>
<div class="title">Figure 42. The GitWeb web-based user interface.</div>
</div>
<div class="paragraph">
<p>If you want to check out what GitWeb would look like for your project, Git comes with a command to fire up a temporary instance if you have a lightweight server on your system like <code>lighttpd</code> or <code>webrick</code>.
On Linux machines, <code>lighttpd</code> is often installed, so you may be able to get it to run by typing <code>git instaweb</code> in your project directory.
If you&#8217;re running a Mac, Leopard comes preinstalled with Ruby, so <code>webrick</code> may be your best bet.
To start <code>instaweb</code> with a non-lighttpd handler, you can run it with the <code>--httpd</code> option.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git instaweb --httpd=webrick
[2009-02-21 10:02:21] INFO  WEBrick 1.3.1
[2009-02-21 10:02:21] INFO  ruby 1.8.6 (2008-03-03) [universal-darwin9.0]</code></pre>
</div>
</div>
<div class="paragraph">
<p>That starts up an HTTPD server on port 1234 and then automatically starts a web browser that opens on that page.
It&#8217;s pretty easy on your part.
When you&#8217;re done and want to shut down the server, you can run the same command with the <code>--stop</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git instaweb --httpd=webrick --stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to run the web interface on a server all the time for your team or for an open source project you&#8217;re hosting, you&#8217;ll need to set up the CGI script to be served by your normal web server.
Some Linux distributions have a <code>gitweb</code> package that you may be able to install via <code>apt</code> or <code>yum</code>, so you may want to try that first.
We&#8217;ll walk through installing GitWeb manually very quickly.
First, you need to get the Git source code, which GitWeb comes with, and generate the custom CGI script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone git://git.kernel.org/pub/scm/git/git.git
$ cd git/
$ make GITWEB_PROJECTROOT="/srv/git" prefix=/usr gitweb
    SUBDIR gitweb
    SUBDIR ../
make[2]: `GIT-VERSION-FILE' is up to date.
    GEN gitweb.cgi
    GEN static/gitweb.js
$ sudo cp -Rf gitweb /var/www/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that you have to tell the command where to find your Git repositories with the <code>GITWEB_PROJECTROOT</code> variable.
Now, you need to make Apache use CGI for that script, for which you can add a VirtualHost:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">&lt;VirtualHost *:80&gt;
    ServerName gitserver
    DocumentRoot /var/www/gitweb
    &lt;Directory /var/www/gitweb&gt;
        Options ExecCGI +FollowSymLinks +SymLinksIfOwnerMatch
        AllowOverride All
        order allow,deny
        Allow from all
        AddHandler cgi-script cgi
        DirectoryIndex gitweb.cgi
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Again, GitWeb can be served with any CGI or Perl capable web server; if you prefer to use something else, it shouldn&#8217;t be difficult to set up.
At this point, you should be able to visit <code>http://gitserver/</code> to view your repositories online.</p>
</div>
</div>
<div class="sect2">
<h3 id="_gitlab">GitLab</h3>
<div class="paragraph">
<p>
GitWeb is pretty simplistic though.
If you&#8217;re looking for a more modern, fully featured Git server, there are some several open source solutions out there that you can install instead.
As GitLab is one of the more popular ones, we&#8217;ll cover installing and using it as an example.
This is a bit more complex than the GitWeb option and likely requires more maintenance, but it is a much more fully featured option.</p>
</div>
<div class="sect3">
<h4 id="_installation">Installation</h4>
<div class="paragraph">
<p>GitLab is a database-backed web application, so its installation is a bit more involved than some other Git servers.
Fortunately, this process is very well-documented and supported.</p>
</div>
<div class="paragraph">
<p>There are a few methods you can pursue to install GitLab.
To get something up and running quickly, you can download a virtual machine image or a one-click installer from <a href="https://bitnami.com/stack/gitlab" class="bare">https://bitnami.com/stack/gitlab</a>, and tweak the configuration to match your particular environment.
One nice touch Bitnami has included is the login screen (accessed by typing alt-&rarr;); it tells you the IP address and default username and password for the installed GitLab.</p>
</div>
<div id="bitnami" class="imageblock">
<div class="content">
<img src="images/bitnami.png" alt="The Bitnami GitLab virtual machine login screen.">
</div>
<div class="title">Figure 43. The Bitnami GitLab virtual machine login screen.</div>
</div>
<div class="paragraph">
<p>For anything else, follow the guidance in the GitLab Community Edition readme, which can be found at <a href="https://gitlab.com/gitlab-org/gitlab-ce/tree/master" class="bare">https://gitlab.com/gitlab-org/gitlab-ce/tree/master</a>.
There you&#8217;ll find assistance for installing GitLab using Chef recipes, a virtual machine on Digital Ocean, and RPM and DEB packages (which, as of this writing, are in beta).
There&#8217;s also &#8220;unofficial&#8221; guidance on getting GitLab running with non-standard operating systems and databases, a fully-manual installation script, and many other topics.</p>
</div>
</div>
<div class="sect3">
<h4 id="_administration">Administration</h4>
<div class="paragraph">
<p>GitLab&#8217;s administration interface is accessed over the web.
Simply point your browser to the hostname or IP address where GitLab is installed, and log in as an admin user.
The default username is <code>admin@local.host</code>, and the default password is <code>5iveL!fe</code> (which you will be prompted to change as soon as you enter it).
Once logged in, click the &#8220;Admin area&#8221; icon in the menu at the top right.</p>
</div>
<div id="gitlab_menu" class="imageblock">
<div class="content">
<img src="images/gitlab-menu.png" alt="The ``Admin area'' item in the GitLab menu.">
</div>
<div class="title">Figure 44. The &#8220;Admin area&#8221; item in the GitLab menu.</div>
</div>
<div class="sect4">
<h5 id="_users">Users</h5>
<div class="paragraph">
<p>Users in GitLab are accounts that correspond to people.
User accounts don&#8217;t have a lot of complexity; mainly it&#8217;s a collection of personal information attached to login data.
Each user account comes with a <strong>namespace</strong>, which is a logical grouping of projects that belong to that user.
If the user <code>jane</code> had a project named <code>project</code>, that project&#8217;s url would be <a href="http://server/jane/project" class="bare">http://server/jane/project</a>.</p>
</div>
<div id="gitlab_users" class="imageblock">
<div class="content">
<img src="images/gitlab-users.png" alt="The GitLab user administration screen.">
</div>
<div class="title">Figure 45. The GitLab user administration screen.</div>
</div>
<div class="paragraph">
<p>Removing a user can be done in two ways.
&#8220;Blocking&#8221; a user prevents them from logging into the GitLab instance, but all of the data under that user&#8217;s namespace will be preserved, and commits signed with that user&#8217;s email address will still link back to their profile.</p>
</div>
<div class="paragraph">
<p>&#8220;Destroying&#8221; a user, on the other hand, completely removes them from the database and filesystem.
All projects and data in their namespace is removed, and any groups they own will also be removed.
This is obviously a much more permanent and destructive action, and its uses are rare.</p>
</div>
</div>
<div class="sect4">
<h5 id="_gitlab_groups_section">Groups</h5>
<div class="paragraph">
<p>A GitLab group is an assemblage of projects, along with data about how users can access those projects.
Each group has a project namespace (the same way that users do), so if the group <code>training</code> has a project <code>materials</code>, its url would be <a href="http://server/training/materials" class="bare">http://server/training/materials</a>.</p>
</div>
<div id="gitlab_groups" class="imageblock">
<div class="content">
<img src="images/gitlab-groups.png" alt="The GitLab group administration screen.">
</div>
<div class="title">Figure 46. The GitLab group administration screen.</div>
</div>
<div class="paragraph">
<p>Each group is associated with a number of users, each of which has a level of permissions for the group&#8217;s projects and the group itself.
These range from &#8220;Guest&#8221; (issues and chat only) to &#8220;Owner&#8221; (full control of the group, its members, and its projects).
The types of permissions are too numerous to list here, but GitLab has a helpful link on the administration screen.</p>
</div>
</div>
<div class="sect4">
<h5 id="_projects">Projects</h5>
<div class="paragraph">
<p>A GitLab project roughly corresponds to a single Git repository.
Every project belongs to a single namespace, either a user or a group.
If the project belongs to a user, the owner of the project has direct control over who has access to the project; if the project belongs to a group, the group&#8217;s user-level permissions will also take effect.</p>
</div>
<div class="paragraph">
<p>Every project also has a visibility level, which controls who has read access to that project&#8217;s pages and repository.
If a project is <em>Private</em>, the project&#8217;s owner must explicitly grant access to specific users.
An <em>Internal</em> project is visible to any logged-in user, and a <em>Public</em> project is visible to anyone.
Note that this controls both <code>git fetch</code> access as well as access to the web UI for that project.</p>
</div>
</div>
<div class="sect4">
<h5 id="_hooks">Hooks</h5>
<div class="paragraph">
<p>GitLab includes support for hooks, both at a project or system level.
For either of these, the GitLab server will perform an HTTP POST with some descriptive JSON whenever relevant events occur.
This is a great way to connect your Git repositories and GitLab instance to the rest of your development automation, such as CI servers, chat rooms, or deployment tools.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_basic_usage">Basic Usage</h4>
<div class="paragraph">
<p>The first thing you&#8217;ll want to do with GitLab is create a new project.
This is accomplished by clicking the &#8220;+&#8221; icon on the toolbar.
You&#8217;ll be asked for the project&#8217;s name, which namespace it should belong to, and what its visibility level should be.
Most of what you specify here isn&#8217;t permanent, and can be re-adjusted later through the settings interface.
Click &#8220;Create Project&#8221;, and you&#8217;re done.</p>
</div>
<div class="paragraph">
<p>Once the project exists, you&#8217;ll probably want to connect it with a local Git repository.
Each project is accessible over HTTPS or SSH, either of which can be used to configure a Git remote.
The URLs are visible at the top of the project&#8217;s home page.
For an existing local repository, this command will create a remote named <code>gitlab</code> to the hosted location:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote add gitlab https://server/namespace/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t have a local copy of the repository, you can simply do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://server/namespace/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>The web UI provides access to several useful views of the repository itself.
Each project&#8217;s home page shows recent activity, and links along the top will lead you to views of the project&#8217;s files and commit log.</p>
</div>
</div>
<div class="sect3">
<h4 id="_working_together">Working Together</h4>
<div class="paragraph">
<p>The simplest way of working together on a GitLab project is by giving another user direct push access to the Git repository.
You can add a user to a project by going to the &#8220;Members&#8221; section of that project&#8217;s settings, and associating the new user with an access level (the different access levels are discussed a bit in <a href="#_gitlab_groups_section">Groups</a>).
By giving a user an access level of &#8220;Developer&#8221; or above, that user can push commits and branches directly to the repository with impunity.</p>
</div>
<div class="paragraph">
<p>Another, more decoupled way of collaboration is by using merge requests.
This feature enables any user that can see a project to contribute to it in a controlled way.
Users with direct access can simply create a branch, push commits to it, and open a merge request from their branch back into <code>master</code> or any other branch.
Users who don&#8217;t have push permissions for a repository can &#8220;fork&#8221; it (create their own copy), push commits to <em>that</em> copy, and open a merge request from their fork back to the main project.
This model allows the owner to be in full control of what goes into the repository and when, while allowing contributions from untrusted users.</p>
</div>
<div class="paragraph">
<p>Merge requests and issues are the main units of long-lived discussion in GitLab.
Each merge request allows a line-by-line discussion of the proposed change (which supports a lightweight kind of code review), as well as a general overall discussion thread.
Both can be assigned to users, or organized into milestones.</p>
</div>
<div class="paragraph">
<p>This section is focused mainly on the Git-related features of GitLab, but as a mature project, it provides many other features to help your team work together, such as project wikis and system maintenance tools.
One benefit to GitLab is that, once the server is set up and running, you&#8217;ll rarely need to tweak a configuration file or access the server via SSH; most administration and general usage can be accomplished through the in-browser interface.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_third_party_hosted_options">Third Party Hosted Options</h3>
<div class="paragraph">
<p>If you don&#8217;t want to go through all of the work involved in setting up your own Git server, you have several options for hosting your Git projects on an external dedicated hosting site.
Doing so offers a number of advantages: a hosting site is generally quick to set up and easy to start projects on, and no server maintenance or monitoring is involved.
Even if you set up and run your own server internally, you may still want to use a public hosting site for your open source code – it&#8217;s generally easier for the open source community to find and help you with.</p>
</div>
<div class="paragraph">
<p>These days, you have a huge number of hosting options to choose from, each with different advantages and disadvantages.
To see an up-to-date list, check out the GitHosting page on the main Git wiki at <a href="https://git.wiki.kernel.org/index.php/GitHosting" class="bare">https://git.wiki.kernel.org/index.php/GitHosting</a></p>
</div>
<div class="paragraph">
<p>We&#8217;ll cover using GitHub in detail in <a href="#_github">[_github]</a>, as it is the largest Git host out there and you may need to interact with projects hosted on it in any case, but there are dozens more to choose from should you not want to set up your own Git server.</p>
</div>
</div>
<div class="sect2">
<h3 id="_summary_4">Summary</h3>
<div class="paragraph">
<p>You have several options to get a remote Git repository up and running so that you can collaborate with others or share your work.</p>
</div>
<div class="paragraph">
<p>Running your own server gives you a lot of control and allows you to run the server within your own firewall, but such a server generally requires a fair amount of your time to set up and maintain.
If you place your data on a hosted server, it&#8217;s easy to set up and maintain; however, you have to be able to keep your code on someone else&#8217;s servers, and some organizations don&#8217;t allow that.</p>
</div>
<div class="paragraph">
<p>It should be fairly straightforward to determine which solution or combination of solutions is appropriate for you and your organization.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Stan Franklin had a retrospective method that calculated membership based on participation over a period of time. However this did not allow one to "sign up," which is a common attribute of memberships.
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-06-14 15:45:21 CDT
</div>
</div>
</body>
</html>